import{r as $,O as sn,v as ln,P as cn,T as un,k as dn,Y as fn,Q as pn,U as mn,Z as hn,E as gn,H as vn,W as yn,J as ee,j as a,$ as bt,a0 as xn}from"./app-DY150xyi.js";import{p as Lt}from"./index-BKNjMPK8.js";import{b as wt}from"./index-dMBA9kzl.js";function bn(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),o=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(o),t&&(r.href=t),o.href=e,o.href}const wn=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function Q(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}let ce=null;function Ut(e={}){return ce||(e.includeStyleProperties?(ce=e.includeStyleProperties,ce):(ce=Q(window.getComputedStyle(document.documentElement)),ce))}function je(e,t){const r=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return r?parseFloat(r.replace("px","")):0}function Cn(e){const t=je(e,"border-left-width"),n=je(e,"border-right-width");return e.clientWidth+t+n}function Sn(e){const t=je(e,"border-top-width"),n=je(e,"border-bottom-width");return e.clientHeight+t+n}function zt(e,t={}){const n=t.width||Cn(e),r=t.height||Sn(e);return{width:n,height:r}}function En(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const F=16384;function _n(e){(e.width>F||e.height>F)&&(e.width>F&&e.height>F?e.width>e.height?(e.height*=F/e.width,e.width=F):(e.width*=F/e.height,e.height=F):e.width>F?(e.height*=F/e.width,e.width=F):(e.width*=F/e.height,e.height=F))}function Ae(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>t(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}async function Nn(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function On(e,t,n){const r="http://www.w3.org/2000/svg",o=document.createElementNS(r,"svg"),l=document.createElementNS(r,"foreignObject");return o.setAttribute("width",`${t}`),o.setAttribute("height",`${n}`),o.setAttribute("viewBox",`0 0 ${t} ${n}`),l.setAttribute("width","100%"),l.setAttribute("height","100%"),l.setAttribute("x","0"),l.setAttribute("y","0"),l.setAttribute("externalResourcesRequired","true"),o.appendChild(l),l.appendChild(e),Nn(o)}const M=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||M(n,t)};function jn(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function An(e,t){return Ut(t).map(n=>{const r=e.getPropertyValue(n),o=e.getPropertyPriority(n);return`${n}: ${r}${o?" !important":""};`}).join(" ")}function kn(e,t,n,r){const o=`.${e}:${t}`,l=n.cssText?jn(n):An(n,r);return document.createTextNode(`${o}{${l}}`)}function Ct(e,t,n,r){const o=window.getComputedStyle(e,n),l=o.getPropertyValue("content");if(l===""||l==="none")return;const u=wn();try{t.className=`${t.className} ${u}`}catch{return}const i=document.createElement("style");i.appendChild(kn(u,n,o,r)),t.appendChild(i)}function Pn(e,t,n){Ct(e,t,":before",n),Ct(e,t,":after",n)}const St="application/font-woff",Et="image/jpeg",Rn={woff:St,woff2:St,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:Et,jpeg:Et,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function Tn(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function Be(e){const t=Tn(e).toLowerCase();return Rn[t]||""}function Mn(e){return e.split(/,/)[1]}function Ue(e){return e.search(/^(data:)/)!==-1}function Fn(e,t){return`data:${t};base64,${e}`}async function Wt(e,t,n){const r=await fetch(e,t);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const o=await r.blob();return new Promise((l,u)=>{const i=new FileReader;i.onerror=u,i.onloadend=()=>{try{l(n({res:r,result:i.result}))}catch(d){u(d)}},i.readAsDataURL(o)})}const Le={};function $n(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}async function Ye(e,t,n){const r=$n(e,t,n.includeQueryParams);if(Le[r]!=null)return Le[r];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let o;try{const l=await Wt(e,n.fetchRequestInit,({res:u,result:i})=>(t||(t=u.headers.get("Content-Type")||""),Mn(i)));o=Fn(l,t)}catch(l){o=n.imagePlaceholder||"";let u=`Failed to fetch resource: ${e}`;l&&(u=typeof l=="string"?l:l.message),u&&console.warn(u)}return Le[r]=o,o}async function Dn(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):Ae(t)}async function Ln(e,t){if(e.currentSrc){const l=document.createElement("canvas"),u=l.getContext("2d");l.width=e.clientWidth,l.height=e.clientHeight,u==null||u.drawImage(e,0,0,l.width,l.height);const i=l.toDataURL();return Ae(i)}const n=e.poster,r=Be(n),o=await Ye(n,r,t);return Ae(o)}async function Un(e,t){var n;try{if(!((n=e==null?void 0:e.contentDocument)===null||n===void 0)&&n.body)return await Te(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function zn(e,t){return M(e,HTMLCanvasElement)?Dn(e):M(e,HTMLVideoElement)?Ln(e,t):M(e,HTMLIFrameElement)?Un(e,t):e.cloneNode(It(e))}const Wn=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",It=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function In(e,t,n){var r,o;if(It(t))return t;let l=[];return Wn(e)&&e.assignedNodes?l=Q(e.assignedNodes()):M(e,HTMLIFrameElement)&&(!((r=e.contentDocument)===null||r===void 0)&&r.body)?l=Q(e.contentDocument.body.childNodes):l=Q(((o=e.shadowRoot)!==null&&o!==void 0?o:e).childNodes),l.length===0||M(e,HTMLVideoElement)||await l.reduce((u,i)=>u.then(()=>Te(i,n)).then(d=>{d&&t.appendChild(d)}),Promise.resolve()),t}function Hn(e,t,n){const r=t.style;if(!r)return;const o=window.getComputedStyle(e);o.cssText?(r.cssText=o.cssText,r.transformOrigin=o.transformOrigin):Ut(n).forEach(l=>{let u=o.getPropertyValue(l);l==="font-size"&&u.endsWith("px")&&(u=`${Math.floor(parseFloat(u.substring(0,u.length-2)))-.1}px`),M(e,HTMLIFrameElement)&&l==="display"&&u==="inline"&&(u="block"),l==="d"&&t.getAttribute("d")&&(u=`path(${t.getAttribute("d")})`),r.setProperty(l,u,o.getPropertyPriority(l))})}function qn(e,t){M(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),M(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function Bn(e,t){if(M(e,HTMLSelectElement)){const n=t,r=Array.from(n.children).find(o=>e.value===o.getAttribute("value"));r&&r.setAttribute("selected","")}}function Yn(e,t,n){return M(t,Element)&&(Hn(e,t,n),Pn(e,t,n),qn(e,t),Bn(e,t)),t}async function Vn(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const r={};for(let l=0;l<n.length;l++){const i=n[l].getAttribute("xlink:href");if(i){const d=e.querySelector(i),x=document.querySelector(i);!d&&x&&!r[i]&&(r[i]=await Te(x,t,!0))}}const o=Object.values(r);if(o.length){const l="http://www.w3.org/1999/xhtml",u=document.createElementNS(l,"svg");u.setAttribute("xmlns",l),u.style.position="absolute",u.style.width="0",u.style.height="0",u.style.overflow="hidden",u.style.display="none";const i=document.createElementNS(l,"defs");u.appendChild(i);for(let d=0;d<o.length;d++)i.appendChild(o[d]);e.appendChild(u)}return e}async function Te(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(r=>zn(r,t)).then(r=>In(e,r,t)).then(r=>Yn(e,r,t)).then(r=>Vn(r,t))}const Ht=/url\((['"]?)([^'"]+?)\1\)/g,Xn=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,Gn=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function Kn(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function Jn(e){const t=[];return e.replace(Ht,(n,r,o)=>(t.push(o),n)),t.filter(n=>!Ue(n))}async function Qn(e,t,n,r,o){try{const l=n?bn(t,n):t,u=Be(t);let i;return o||(i=await Ye(l,u,r)),e.replace(Kn(t),`$1${i}$3`)}catch{}return e}function Zn(e,{preferredFontFormat:t}){return t?e.replace(Gn,n=>{for(;;){const[r,,o]=Xn.exec(n)||[];if(!o)return"";if(o===t)return`src: ${r};`}}):e}function qt(e){return e.search(Ht)!==-1}async function Bt(e,t,n){if(!qt(e))return e;const r=Zn(e,n);return Jn(r).reduce((l,u)=>l.then(i=>Qn(i,u,t,n)),Promise.resolve(r))}async function ue(e,t,n){var r;const o=(r=t.style)===null||r===void 0?void 0:r.getPropertyValue(e);if(o){const l=await Bt(o,null,n);return t.style.setProperty(e,l,t.style.getPropertyPriority(e)),!0}return!1}async function er(e,t){await ue("background",e,t)||await ue("background-image",e,t),await ue("mask",e,t)||await ue("-webkit-mask",e,t)||await ue("mask-image",e,t)||await ue("-webkit-mask-image",e,t)}async function tr(e,t){const n=M(e,HTMLImageElement);if(!(n&&!Ue(e.src))&&!(M(e,SVGImageElement)&&!Ue(e.href.baseVal)))return;const r=n?e.src:e.href.baseVal,o=await Ye(r,Be(r),t);await new Promise((l,u)=>{e.onload=l,e.onerror=t.onImageErrorHandler?(...d)=>{try{l(t.onImageErrorHandler(...d))}catch(x){u(x)}}:u;const i=e;i.decode&&(i.decode=l),i.loading==="lazy"&&(i.loading="eager"),n?(e.srcset="",e.src=o):e.href.baseVal=o})}async function nr(e,t){const r=Q(e.childNodes).map(o=>Yt(o,t));await Promise.all(r).then(()=>e)}async function Yt(e,t){M(e,Element)&&(await er(e,t),await tr(e,t),await nr(e,t))}function rr(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;return r!=null&&Object.keys(r).forEach(o=>{n[o]=r[o]}),e}const _t={};async function Nt(e){let t=_t[e];if(t!=null)return t;const r=await(await fetch(e)).text();return t={url:e,cssText:r},_t[e]=t,t}async function Ot(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,l=(n.match(/url\([^)]+\)/g)||[]).map(async u=>{let i=u.replace(r,"$1");return i.startsWith("https://")||(i=new URL(i,e.url).href),Wt(i,t.fetchRequestInit,({result:d})=>(n=n.replace(u,`url(${d})`),[u,d]))});return Promise.all(l).then(()=>n)}function jt(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=e.replace(n,"");const o=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const d=o.exec(r);if(d===null)break;t.push(d[0])}r=r.replace(o,"");const l=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,u="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",i=new RegExp(u,"gi");for(;;){let d=l.exec(r);if(d===null){if(d=i.exec(r),d===null)break;l.lastIndex=i.lastIndex}else i.lastIndex=l.lastIndex;t.push(d[0])}return t}async function or(e,t){const n=[],r=[];return e.forEach(o=>{if("cssRules"in o)try{Q(o.cssRules||[]).forEach((l,u)=>{if(l.type===CSSRule.IMPORT_RULE){let i=u+1;const d=l.href,x=Nt(d).then(C=>Ot(C,t)).then(C=>jt(C).forEach(y=>{try{o.insertRule(y,y.startsWith("@import")?i+=1:o.cssRules.length)}catch(b){console.error("Error inserting rule from remote css",{rule:y,error:b})}})).catch(C=>{console.error("Error loading remote css",C.toString())});r.push(x)}})}catch(l){const u=e.find(i=>i.href==null)||document.styleSheets[0];o.href!=null&&r.push(Nt(o.href).then(i=>Ot(i,t)).then(i=>jt(i).forEach(d=>{u.insertRule(d,u.cssRules.length)})).catch(i=>{console.error("Error loading remote stylesheet",i)})),console.error("Error inlining remote css file",l)}}),Promise.all(r).then(()=>(e.forEach(o=>{if("cssRules"in o)try{Q(o.cssRules||[]).forEach(l=>{n.push(l)})}catch(l){console.error(`Error while reading CSS rules from ${o.href}`,l)}}),n))}function ar(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>qt(t.style.getPropertyValue("src")))}async function sr(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=Q(e.ownerDocument.styleSheets),r=await or(n,t);return ar(r)}function Vt(e){return e.trim().replace(/["']/g,"")}function ir(e){const t=new Set;function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(l=>{t.add(Vt(l))}),Array.from(r.children).forEach(l=>{l instanceof HTMLElement&&n(l)})}return n(e),t}async function lr(e,t){const n=await sr(e,t),r=ir(e);return(await Promise.all(n.filter(l=>r.has(Vt(l.style.fontFamily))).map(l=>{const u=l.parentStyleSheet?l.parentStyleSheet.href:null;return Bt(l.cssText,u,t)}))).join(`
`)}async function cr(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await lr(e,t);if(n){const r=document.createElement("style"),o=document.createTextNode(n);r.appendChild(o),e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}}async function ur(e,t={}){const{width:n,height:r}=zt(e,t),o=await Te(e,t,!0);return await cr(o,t),await Yt(o,t),rr(o,t),await On(o,n,r)}async function dr(e,t={}){const{width:n,height:r}=zt(e,t),o=await ur(e,t),l=await Ae(o),u=document.createElement("canvas"),i=u.getContext("2d"),d=t.pixelRatio||En(),x=t.canvasWidth||n,C=t.canvasHeight||r;return u.width=x*d,u.height=C*d,t.skipAutoScale||_n(u),u.style.width=`${x}`,u.style.height=`${C}`,t.backgroundColor&&(i.fillStyle=t.backgroundColor,i.fillRect(0,0,u.width,u.height)),i.drawImage(l,0,0,u.width,u.height),u}async function At(e,t={}){return(await dr(e,t)).toDataURL()}var ze={exports:{}},re={},We={exports:{}},I={},Ie={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=C;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var n="none",r="contents",o=/^(input|select|textarea|button|object|iframe)$/;function l(y,b){return b.getPropertyValue("overflow")!=="visible"||y.scrollWidth<=0&&y.scrollHeight<=0}function u(y){var b=y.offsetWidth<=0&&y.offsetHeight<=0;if(b&&!y.innerHTML)return!0;try{var E=window.getComputedStyle(y),A=E.getPropertyValue("display");return b?A!==r&&l(y,E):A===n}catch{return console.warn("Failed to inspect element style"),!1}}function i(y){for(var b=y,E=y.getRootNode&&y.getRootNode();b&&b!==document.body;){if(E&&b===E&&(b=E.host.parentNode),u(b))return!1;b=b.parentNode}return!0}function d(y,b){var E=y.nodeName.toLowerCase(),A=o.test(E)&&!y.disabled||E==="a"&&y.href||b;return A&&i(y)}function x(y){var b=y.getAttribute("tabindex");b===null&&(b=void 0);var E=isNaN(b);return(E||b>=0)&&d(y,!E)}function C(y){var b=[].slice.call(y.querySelectorAll("*"),0).reduce(function(E,A){return E.concat(A.shadowRoot?C(A.shadowRoot):[A])},[]);return b.filter(x)}e.exports=t.default})(Ie,Ie.exports);var Xt=Ie.exports;Object.defineProperty(I,"__esModule",{value:!0});I.resetState=hr;I.log=gr;I.handleBlur=ye;I.handleFocus=xe;I.markForFocusLater=vr;I.returnFocus=yr;I.popWithoutFocus=xr;I.setupScopedFocus=br;I.teardownScopedFocus=wr;var fr=Xt,pr=mr(fr);function mr(e){return e&&e.__esModule?e:{default:e}}var fe=[],de=null,He=!1;function hr(){fe=[]}function gr(){}function ye(){He=!0}function xe(){if(He){if(He=!1,!de)return;setTimeout(function(){if(!de.contains(document.activeElement)){var e=(0,pr.default)(de)[0]||de;e.focus()}},0)}}function vr(){fe.push(document.activeElement)}function yr(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=null;try{fe.length!==0&&(t=fe.pop(),t.focus({preventScroll:e}));return}catch{console.warn(["You tried to return focus to",t,"but it is not in the DOM anymore"].join(" "))}}function xr(){fe.length>0&&fe.pop()}function br(e){de=e,window.addEventListener?(window.addEventListener("blur",ye,!1),document.addEventListener("focus",xe,!0)):(window.attachEvent("onBlur",ye),document.attachEvent("onFocus",xe))}function wr(){de=null,window.addEventListener?(window.removeEventListener("blur",ye),document.removeEventListener("focus",xe)):(window.detachEvent("onBlur",ye),document.detachEvent("onFocus",xe))}var qe={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var n=Xt,r=o(n);function o(i){return i&&i.__esModule?i:{default:i}}function l(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return i.activeElement.shadowRoot?l(i.activeElement.shadowRoot):i.activeElement}function u(i,d){var x=(0,r.default)(i);if(!x.length){d.preventDefault();return}var C=void 0,y=d.shiftKey,b=x[0],E=x[x.length-1],A=l();if(i===A){if(!y)return;C=E}if(E===A&&!y&&(C=b),b===A&&y&&(C=E),C){d.preventDefault(),C.focus();return}var L=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),h=L!=null&&L[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(h){var q=x.indexOf(A);if(q>-1&&(q+=y?-1:1),C=x[q],typeof C>"u"){d.preventDefault(),C=y?E:b,C.focus();return}d.preventDefault(),C.focus()}}e.exports=t.default})(qe,qe.exports);var Cr=qe.exports,H={},Sr=function(){},Er=Sr,W={},Gt={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(e){(function(){var t=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:t,canUseWorkers:typeof Worker<"u",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen};e.exports?e.exports=n:window.ExecutionEnvironment=n})()})(Gt);var _r=Gt.exports;Object.defineProperty(W,"__esModule",{value:!0});W.canUseDOM=W.SafeNodeList=W.SafeHTMLCollection=void 0;var Nr=_r,Or=jr(Nr);function jr(e){return e&&e.__esModule?e:{default:e}}var Me=Or.default,Ar=Me.canUseDOM?window.HTMLElement:{};W.SafeHTMLCollection=Me.canUseDOM?window.HTMLCollection:{};W.SafeNodeList=Me.canUseDOM?window.NodeList:{};W.canUseDOM=Me.canUseDOM;W.default=Ar;Object.defineProperty(H,"__esModule",{value:!0});H.resetState=Mr;H.log=Fr;H.assertNodeList=Kt;H.setElement=$r;H.validateElement=Ve;H.hide=Dr;H.show=Lr;H.documentNotReadyOrSSRTesting=Ur;var kr=Er,Pr=Tr(kr),Rr=W;function Tr(e){return e&&e.__esModule?e:{default:e}}var D=null;function Mr(){D&&(D.removeAttribute?D.removeAttribute("aria-hidden"):D.length!=null?D.forEach(function(e){return e.removeAttribute("aria-hidden")}):document.querySelectorAll(D).forEach(function(e){return e.removeAttribute("aria-hidden")})),D=null}function Fr(){}function Kt(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function $r(e){var t=e;if(typeof t=="string"&&Rr.canUseDOM){var n=document.querySelectorAll(t);Kt(n,t),t=n}return D=t||D,D}function Ve(e){var t=e||D;return t?Array.isArray(t)||t instanceof HTMLCollection||t instanceof NodeList?t:[t]:((0,Pr.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function Dr(e){var t=!0,n=!1,r=void 0;try{for(var o=Ve(e)[Symbol.iterator](),l;!(t=(l=o.next()).done);t=!0){var u=l.value;u.setAttribute("aria-hidden","true")}}catch(i){n=!0,r=i}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}function Lr(e){var t=!0,n=!1,r=void 0;try{for(var o=Ve(e)[Symbol.iterator](),l;!(t=(l=o.next()).done);t=!0){var u=l.value;u.removeAttribute("aria-hidden")}}catch(i){n=!0,r=i}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}function Ur(){D=null}var pe={};Object.defineProperty(pe,"__esModule",{value:!0});pe.resetState=zr;pe.log=Wr;var ge={},ve={};function kt(e,t){e.classList.remove(t)}function zr(){var e=document.getElementsByTagName("html")[0];for(var t in ge)kt(e,ge[t]);var n=document.body;for(var r in ve)kt(n,ve[r]);ge={},ve={}}function Wr(){}var Ir=function(t,n){return t[n]||(t[n]=0),t[n]+=1,n},Hr=function(t,n){return t[n]&&(t[n]-=1),n},qr=function(t,n,r){r.forEach(function(o){Ir(n,o),t.add(o)})},Br=function(t,n,r){r.forEach(function(o){Hr(n,o),n[o]===0&&t.remove(o)})};pe.add=function(t,n){return qr(t.classList,t.nodeName.toLowerCase()=="html"?ge:ve,n.split(" "))};pe.remove=function(t,n){return Br(t.classList,t.nodeName.toLowerCase()=="html"?ge:ve,n.split(" "))};var me={};Object.defineProperty(me,"__esModule",{value:!0});me.log=Vr;me.resetState=Xr;function Yr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Jt=function e(){var t=this;Yr(this,e),this.register=function(n){t.openInstances.indexOf(n)===-1&&(t.openInstances.push(n),t.emit("register"))},this.deregister=function(n){var r=t.openInstances.indexOf(n);r!==-1&&(t.openInstances.splice(r,1),t.emit("deregister"))},this.subscribe=function(n){t.subscribers.push(n)},this.emit=function(n){t.subscribers.forEach(function(r){return r(n,t.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},ke=new Jt;function Vr(){console.log("portalOpenInstances ----------"),console.log(ke.openInstances.length),ke.openInstances.forEach(function(e){return console.log(e)}),console.log("end portalOpenInstances ----------")}function Xr(){ke=new Jt}me.default=ke;var Xe={};Object.defineProperty(Xe,"__esModule",{value:!0});Xe.resetState=Qr;Xe.log=Zr;var Gr=me,Kr=Jr(Gr);function Jr(e){return e&&e.__esModule?e:{default:e}}var R=void 0,z=void 0,ne=[];function Qr(){for(var e=[R,z],t=0;t<e.length;t++){var n=e[t];n&&n.parentNode&&n.parentNode.removeChild(n)}R=z=null,ne=[]}function Zr(){console.log("bodyTrap ----------"),console.log(ne.length);for(var e=[R,z],t=0;t<e.length;t++){var n=e[t],r=n||{};console.log(r.nodeName,r.className,r.id)}console.log("edn bodyTrap ----------")}function Pt(){ne.length!==0&&ne[ne.length-1].focusContent()}function eo(e,t){!R&&!z&&(R=document.createElement("div"),R.setAttribute("data-react-modal-body-trap",""),R.style.position="absolute",R.style.opacity="0",R.setAttribute("tabindex","0"),R.addEventListener("focus",Pt),z=R.cloneNode(),z.addEventListener("focus",Pt)),ne=t,ne.length>0?(document.body.firstChild!==R&&document.body.insertBefore(R,document.body.firstChild),document.body.lastChild!==z&&document.body.appendChild(z)):(R.parentElement&&R.parentElement.removeChild(R),z.parentElement&&z.parentElement.removeChild(z))}Kr.default.subscribe(eo);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(g){for(var p=1;p<arguments.length;p++){var S=arguments[p];for(var s in S)Object.prototype.hasOwnProperty.call(S,s)&&(g[s]=S[s])}return g},r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},o=function(){function g(p,S){for(var s=0;s<S.length;s++){var m=S[s];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(p,m.key,m)}}return function(p,S,s){return S&&g(p.prototype,S),s&&g(p,s),p}}(),l=$,u=Lt,i=oe(u),d=I,x=X(d),C=Cr,y=oe(C),b=H,E=X(b),A=pe,L=X(A),h=W,q=oe(h),Ce=me,Se=oe(Ce);function X(g){if(g&&g.__esModule)return g;var p={};if(g!=null)for(var S in g)Object.prototype.hasOwnProperty.call(g,S)&&(p[S]=g[S]);return p.default=g,p}function oe(g){return g&&g.__esModule?g:{default:g}}function ae(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")}function Ge(g,p){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:g}function Ee(g,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);g.prototype=Object.create(p&&p.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(g,p):g.__proto__=p)}var se={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},he=function(p){return p.code==="Tab"||p.keyCode===9},_e=function(p){return p.code==="Escape"||p.keyCode===27},_=0,G=function(g){Ee(p,g);function p(S){ae(this,p);var s=Ge(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,S));return s.setOverlayRef=function(m){s.overlay=m,s.props.overlayRef&&s.props.overlayRef(m)},s.setContentRef=function(m){s.content=m,s.props.contentRef&&s.props.contentRef(m)},s.afterClose=function(){var m=s.props,O=m.appElement,P=m.ariaHideApp,j=m.htmlOpenClassName,B=m.bodyOpenClassName,Y=m.parentSelector,U=Y&&Y().ownerDocument||document;B&&L.remove(U.body,B),j&&L.remove(U.getElementsByTagName("html")[0],j),P&&_>0&&(_-=1,_===0&&E.show(O)),s.props.shouldFocusAfterRender&&(s.props.shouldReturnFocusAfterClose?(x.returnFocus(s.props.preventScroll),x.teardownScopedFocus()):x.popWithoutFocus()),s.props.onAfterClose&&s.props.onAfterClose(),Se.default.deregister(s)},s.open=function(){s.beforeOpen(),s.state.afterOpen&&s.state.beforeClose?(clearTimeout(s.closeTimer),s.setState({beforeClose:!1})):(s.props.shouldFocusAfterRender&&(x.setupScopedFocus(s.node),x.markForFocusLater()),s.setState({isOpen:!0},function(){s.openAnimationFrame=requestAnimationFrame(function(){s.setState({afterOpen:!0}),s.props.isOpen&&s.props.onAfterOpen&&s.props.onAfterOpen({overlayEl:s.overlay,contentEl:s.content})})}))},s.close=function(){s.props.closeTimeoutMS>0?s.closeWithTimeout():s.closeWithoutTimeout()},s.focusContent=function(){return s.content&&!s.contentHasFocus()&&s.content.focus({preventScroll:!0})},s.closeWithTimeout=function(){var m=Date.now()+s.props.closeTimeoutMS;s.setState({beforeClose:!0,closesAt:m},function(){s.closeTimer=setTimeout(s.closeWithoutTimeout,s.state.closesAt-Date.now())})},s.closeWithoutTimeout=function(){s.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},s.afterClose)},s.handleKeyDown=function(m){he(m)&&(0,y.default)(s.content,m),s.props.shouldCloseOnEsc&&_e(m)&&(m.stopPropagation(),s.requestClose(m))},s.handleOverlayOnClick=function(m){s.shouldClose===null&&(s.shouldClose=!0),s.shouldClose&&s.props.shouldCloseOnOverlayClick&&(s.ownerHandlesClose()?s.requestClose(m):s.focusContent()),s.shouldClose=null},s.handleContentOnMouseUp=function(){s.shouldClose=!1},s.handleOverlayOnMouseDown=function(m){!s.props.shouldCloseOnOverlayClick&&m.target==s.overlay&&m.preventDefault()},s.handleContentOnClick=function(){s.shouldClose=!1},s.handleContentOnMouseDown=function(){s.shouldClose=!1},s.requestClose=function(m){return s.ownerHandlesClose()&&s.props.onRequestClose(m)},s.ownerHandlesClose=function(){return s.props.onRequestClose},s.shouldBeClosed=function(){return!s.state.isOpen&&!s.state.beforeClose},s.contentHasFocus=function(){return document.activeElement===s.content||s.content.contains(document.activeElement)},s.buildClassName=function(m,O){var P=(typeof O>"u"?"undefined":r(O))==="object"?O:{base:se[m],afterOpen:se[m]+"--after-open",beforeClose:se[m]+"--before-close"},j=P.base;return s.state.afterOpen&&(j=j+" "+P.afterOpen),s.state.beforeClose&&(j=j+" "+P.beforeClose),typeof O=="string"&&O?j+" "+O:j},s.attributesFromObject=function(m,O){return Object.keys(O).reduce(function(P,j){return P[m+"-"+j]=O[j],P},{})},s.state={afterOpen:!1,beforeClose:!1},s.shouldClose=null,s.moveFromContentToOverlay=null,s}return o(p,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(s,m){this.props.isOpen&&!s.isOpen?this.open():!this.props.isOpen&&s.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!m.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var s=this.props,m=s.appElement,O=s.ariaHideApp,P=s.htmlOpenClassName,j=s.bodyOpenClassName,B=s.parentSelector,Y=B&&B().ownerDocument||document;j&&L.add(Y.body,j),P&&L.add(Y.getElementsByTagName("html")[0],P),O&&(_+=1,E.hide(m)),Se.default.register(this)}},{key:"render",value:function(){var s=this.props,m=s.id,O=s.className,P=s.overlayClassName,j=s.defaultStyles,B=s.children,Y=O?{}:j.content,U=P?{}:j.overlay;if(this.shouldBeClosed())return null;var V={ref:this.setOverlayRef,className:this.buildClassName("overlay",P),style:n({},U,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},Fe=n({id:m,ref:this.setContentRef,style:n({},Y,this.props.style.content),className:this.buildClassName("content",O),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),$e=this.props.contentElement(Fe,B);return this.props.overlayElement(V,$e)}}]),p}(l.Component);G.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},G.propTypes={isOpen:i.default.bool.isRequired,defaultStyles:i.default.shape({content:i.default.object,overlay:i.default.object}),style:i.default.shape({content:i.default.object,overlay:i.default.object}),className:i.default.oneOfType([i.default.string,i.default.object]),overlayClassName:i.default.oneOfType([i.default.string,i.default.object]),parentSelector:i.default.func,bodyOpenClassName:i.default.string,htmlOpenClassName:i.default.string,ariaHideApp:i.default.bool,appElement:i.default.oneOfType([i.default.instanceOf(q.default),i.default.instanceOf(h.SafeHTMLCollection),i.default.instanceOf(h.SafeNodeList),i.default.arrayOf(i.default.instanceOf(q.default))]),onAfterOpen:i.default.func,onAfterClose:i.default.func,onRequestClose:i.default.func,closeTimeoutMS:i.default.number,shouldFocusAfterRender:i.default.bool,shouldCloseOnOverlayClick:i.default.bool,shouldReturnFocusAfterClose:i.default.bool,preventScroll:i.default.bool,role:i.default.string,contentLabel:i.default.string,aria:i.default.object,data:i.default.object,children:i.default.node,shouldCloseOnEsc:i.default.bool,overlayRef:i.default.func,contentRef:i.default.func,id:i.default.string,overlayElement:i.default.func,contentElement:i.default.func,testId:i.default.string},t.default=G,e.exports=t.default})(We,We.exports);var to=We.exports;function Qt(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function Zt(e){function t(n){var r=this.constructor.getDerivedStateFromProps(e,n);return r??null}this.setState(t.bind(this))}function en(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}Qt.__suppressDeprecationWarning=!0;Zt.__suppressDeprecationWarning=!0;en.__suppressDeprecationWarning=!0;function no(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var n=null,r=null,o=null;if(typeof t.componentWillMount=="function"?n="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?o="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(o="UNSAFE_componentWillUpdate"),n!==null||r!==null||o!==null){var l=e.displayName||e.name,u=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+l+" uses "+u+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(o!==null?`
  `+o:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=Qt,t.componentWillReceiveProps=Zt),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=en;var i=t.componentDidUpdate;t.componentDidUpdate=function(x,C,y){var b=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:y;i.call(this,x,C,b)}}return e}const ro=Object.freeze(Object.defineProperty({__proto__:null,polyfill:no},Symbol.toStringTag,{value:"Module"})),oo=sn(ro);Object.defineProperty(re,"__esModule",{value:!0});re.bodyOpenClassName=re.portalClassName=void 0;var Rt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ao=function(){function e(t,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),tn=$,Pe=be(tn),so=ln,Re=be(so),io=Lt,v=be(io),lo=to,Tt=be(lo),co=H,uo=po(co),J=W,Mt=be(J),fo=oo;function po(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function be(e){return e&&e.__esModule?e:{default:e}}function mo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ft(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function ho(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var go=re.portalClassName="ReactModalPortal",vo=re.bodyOpenClassName="ReactModal__Body--open",te=J.canUseDOM&&Re.default.createPortal!==void 0,$t=function(t){return document.createElement(t)},Dt=function(){return te?Re.default.createPortal:Re.default.unstable_renderSubtreeIntoContainer};function Oe(e){return e()}var we=function(e){ho(t,e);function t(){var n,r,o,l;mo(this,t);for(var u=arguments.length,i=Array(u),d=0;d<u;d++)i[d]=arguments[d];return l=(r=(o=Ft(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(i))),o),o.removePortal=function(){!te&&Re.default.unmountComponentAtNode(o.node);var x=Oe(o.props.parentSelector);x&&x.contains(o.node)?x.removeChild(o.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},o.portalRef=function(x){o.portal=x},o.renderPortal=function(x){var C=Dt(),y=C(o,Pe.default.createElement(Tt.default,Rt({defaultStyles:t.defaultStyles},x)),o.node);o.portalRef(y)},r),Ft(o,l)}return ao(t,[{key:"componentDidMount",value:function(){if(J.canUseDOM){te||(this.node=$t("div")),this.node.className=this.props.portalClassName;var r=Oe(this.props.parentSelector);r.appendChild(this.node),!te&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(r){var o=Oe(r.parentSelector),l=Oe(this.props.parentSelector);return{prevParent:o,nextParent:l}}},{key:"componentDidUpdate",value:function(r,o,l){if(J.canUseDOM){var u=this.props,i=u.isOpen,d=u.portalClassName;r.portalClassName!==d&&(this.node.className=d);var x=l.prevParent,C=l.nextParent;C!==x&&(x.removeChild(this.node),C.appendChild(this.node)),!(!r.isOpen&&!i)&&!te&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!J.canUseDOM||!this.node||!this.portal)){var r=this.portal.state,o=Date.now(),l=r.isOpen&&this.props.closeTimeoutMS&&(r.closesAt||o+this.props.closeTimeoutMS);l?(r.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,l-o)):this.removePortal()}}},{key:"render",value:function(){if(!J.canUseDOM||!te)return null;!this.node&&te&&(this.node=$t("div"));var r=Dt();return r(Pe.default.createElement(Tt.default,Rt({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(r){uo.setElement(r)}}]),t}(tn.Component);we.propTypes={isOpen:v.default.bool.isRequired,style:v.default.shape({content:v.default.object,overlay:v.default.object}),portalClassName:v.default.string,bodyOpenClassName:v.default.string,htmlOpenClassName:v.default.string,className:v.default.oneOfType([v.default.string,v.default.shape({base:v.default.string.isRequired,afterOpen:v.default.string.isRequired,beforeClose:v.default.string.isRequired})]),overlayClassName:v.default.oneOfType([v.default.string,v.default.shape({base:v.default.string.isRequired,afterOpen:v.default.string.isRequired,beforeClose:v.default.string.isRequired})]),appElement:v.default.oneOfType([v.default.instanceOf(Mt.default),v.default.instanceOf(J.SafeHTMLCollection),v.default.instanceOf(J.SafeNodeList),v.default.arrayOf(v.default.instanceOf(Mt.default))]),onAfterOpen:v.default.func,onRequestClose:v.default.func,closeTimeoutMS:v.default.number,ariaHideApp:v.default.bool,shouldFocusAfterRender:v.default.bool,shouldCloseOnOverlayClick:v.default.bool,shouldReturnFocusAfterClose:v.default.bool,preventScroll:v.default.bool,parentSelector:v.default.func,aria:v.default.object,data:v.default.object,role:v.default.string,contentLabel:v.default.string,shouldCloseOnEsc:v.default.bool,overlayRef:v.default.func,contentRef:v.default.func,id:v.default.string,overlayElement:v.default.func,contentElement:v.default.func};we.defaultProps={isOpen:!1,portalClassName:go,bodyOpenClassName:vo,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(t,n){return Pe.default.createElement("div",t,n)},contentElement:function(t,n){return Pe.default.createElement("div",t,n)}};we.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}};(0,fo.polyfill)(we);re.default=we;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=re,r=o(n);function o(l){return l&&l.__esModule?l:{default:l}}t.default=r.default,e.exports=t.default})(ze,ze.exports);var yo=ze.exports;const xo=cn(yo),bo={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"white",borderRadius:"10px",padding:"20px",maxWidth:"90vw",maxHeight:"90vh",zIndex:1001,overflowY:"auto"},overlay:{backgroundColor:"rgba(0, 0, 0, 0.75)",zIndex:999}},Eo=()=>{var et,tt,nt,rt,ot,at,st,it;const{slug:e}=un(),t=dn(),n=fn(),r=pn(),[o,l]=$.useState("front"),[u,i]=$.useState(!1),[d,x]=$.useState("text"),[C,y]=$.useState(!1),[b,E]=$.useState(null),[A,L]=$.useState({}),{data:h,isLoading:q,error:Ce}=mn(e),[Se,{isLoading:X}]=hn(),[oe,{isLoading:ae}]=gn(),{data:Ge}=vn(),[Ee]=yn(),{redo:se,cartItemId:he}=r.state||{};$.useEffect(()=>{se&&he&&Ee(he).unwrap().then(()=>ee.success("Previous customization removed. Start fresh!")).catch(()=>ee.error("Failed to remove old item"))},[se,he,Ee]);const _e={width:"240px",height:"240px"},[_,G]=$.useState({front:{texts:[{id:Date.now(),title:"",titleColor:"black",textSize:18,fontFamily:"Glamour Absolute Condensed",xAxis:50,yAxis:50}],uploadedImage:null,imagePosition:"below",imageXAxis:50,imageYAxis:30,imageSize:50,containerXAxis:50,containerYAxis:50},back:{texts:[{id:Date.now()+1,title:"",titleColor:"black",textSize:18,fontFamily:"Glamour Absolute Condensed",xAxis:50,yAxis:50}],uploadedImage:null,imagePosition:"below",imageXAxis:50,imageYAxis:30,imageSize:50,containerXAxis:50,containerYAxis:50}}),g=$.useRef(null),p=$.useRef(null),S=$.useRef(null),s=_[o],m={left:`${s.imageXAxis}%`,top:`${s.imageYAxis}%`,transform:"translate(-50%, -50%)",width:`${s.imageSize}%`,maxWidth:"200px",zIndex:s.imagePosition==="below"?1:10},O={width:_e.width,height:_e.height,left:`${s.containerXAxis}%`,top:`${s.containerYAxis}%`,transform:"translate(-50%, -50%)"},P=[{id:"anton",name:"Anton",value:"anton"},{id:"abril",name:"abril",value:"abril"},{id:"leagueSparton",name:"league Sparton",value:"leagueSparton"},{id:"yesevaOne",name:"Yeseva One",value:"yesevaOne"},{id:"chewy",name:"Chewy",value:"chewy"},{id:"quicksand",name:"Quicksand",value:"quicksand"},{id:"telegraph",name:"Telegraph",value:"telegraph"},{id:"futura",name:"Futura",value:"futura"},{id:"london",name:"London",value:"london"},{id:"lovelo",name:"Lovelo",value:"lovelo"},{id:"copper",name:"Copper",value:"copper"}],j=[{id:"black",name:"Black",value:"black"},{id:"red",name:"Red",value:"red"},{id:"blue",name:"Blue",value:"blue"},{id:"green",name:"Green",value:"green"},{id:"purple",name:"Purple",value:"purple"}],B=()=>{const c={id:Date.now(),title:"",titleColor:"black",textSize:18,fontFamily:"Glamour Absolute Condensed",xAxis:50,yAxis:50};G(w=>({...w,[o]:{...w[o],texts:[...w[o].texts,c]}}))},Y=c=>{G(w=>({...w,[o]:{...w[o],texts:w[o].texts.filter(N=>N.id!==c)}}))},U=(c,w)=>{G(N=>({...N,[o]:{...N[o],texts:N[o].texts.map(f=>f.id===c?{...f,...w}:f)}}))},V=c=>{G(w=>({...w,[o]:{...w[o],...c}}))},Fe=c=>{const w=c.target.files[0];if(w){const N=new FileReader;N.onload=f=>V({uploadedImage:f.target.result}),N.readAsDataURL(w)}},$e=()=>{V({uploadedImage:null}),g.current&&(g.current.value="")},Ke=async c=>{const w=o;if(l(c),await new Promise(f=>setTimeout(f,100)),!p.current||!S.current)throw l(w),new Error(`Preview not ready for ${c}`);let N=S.current.className;try{S.current.className=N.replace(/border-2 border-dotted border-white/,"");const f=p.current.querySelector("img");if(!f)throw new Error(`Base image not found for ${c}`);(f.complete===!1||f.naturalWidth===0)&&await new Promise((K,Ne)=>{f.onload=K,f.onerror=()=>Ne(new Error(`Failed to load ${c} image`)),f.complete&&f.naturalWidth!==0&&K()});const ie=await At(p.current,{cacheBust:!0,pixelRatio:2,backgroundColor:"#ffffff",canvasWidth:700,canvasHeight:600,style:{width:"700px",height:"600px"}});return S.current.className=N,l(w),ie}catch(f){throw S.current.className=N,l(w),E(`Failed to generate ${c} image: ${f.message}`),f}},nn=async()=>{var c,w,N,f,ie,K,Ne,lt,ct,ut,dt,ft,pt,mt,ht,gt;if(!(C||X||ae)){y(!0);try{const T=_.front.texts.some(k=>k.title.trim())||_.front.uploadedImage,Z=_.back.texts.some(k=>k.title.trim())||_.back.uploadedImage;if(!T&&!Z){ee.error("Please customize at least one side!");return}if(!((w=(c=h==null?void 0:h.product)==null?void 0:c.customization)!=null&&w.front_image)&&T)throw new Error("Front base image is missing.");if(!((f=(N=h==null?void 0:h.product)==null?void 0:N.customization)!=null&&f.back_image)&&Z)throw new Error("Back base image is missing.");let vt="",yt="";T&&(vt=await Ke("front")),Z&&(yt=await Ke("back"));const rn=T&&Z?"both":T?"front":"back",on={product_id:(ie=h==null?void 0:h.product)==null?void 0:ie.id,side:rn,front_price:T?((Ne=(K=h==null?void 0:h.product)==null?void 0:K.customization)==null?void 0:Ne.front_price)||4:0,back_price:Z?(ct=(lt=h==null?void 0:h.product)==null?void 0:lt.customization)==null?void 0:ct.back_price:0,both_price:T&&Z?((dt=(ut=h==null?void 0:h.product)==null?void 0:ut.customization)==null?void 0:dt.both_price)||8:0,front_image:vt,back_image:yt,text_front:JSON.stringify(_.front.texts.map(k=>({title:k.title,x_position:`${k.xAxis}%`,y_position:`${k.yAxis}%`,size:`${k.textSize}px`,color:k.titleColor,font_family:k.fontFamily}))),text_back:JSON.stringify(_.back.texts.map(k=>({title:k.title,x_position:`${k.xAxis}%`,y_position:`${k.yAxis}%`,size:`${k.textSize}px`,color:k.titleColor,font_family:k.fontFamily}))),container_front:JSON.stringify({x_position:`${_.front.containerXAxis}%`,y_position:`${_.front.containerYAxis}%`}),container_back:JSON.stringify({x_position:`${_.back.containerXAxis}%`,y_position:`${_.back.containerYAxis}%`}),image_front:_.front.uploadedImage?JSON.stringify({position:"below",x_position:`${_.front.imageXAxis}%`,y_position:`${_.front.imageYAxis}%`,size:`${_.front.imageSize}%`}):"",image_back:_.back.uploadedImage?JSON.stringify({position:"below",x_position:`${_.back.imageXAxis}%`,y_position:`${_.back.imageYAxis}%`,size:`${_.back.imageSize}%`}):"",_prevent_duplicate:Date.now()},le=await Se(on).unwrap(),xt=((ft=le==null?void 0:le.data)==null?void 0:ft.customization_id)||(le==null?void 0:le.customization_id);if(!xt)throw new Error("Customization ID not returned");const an=T&&Z?((mt=(pt=h==null?void 0:h.product)==null?void 0:pt.customization)==null?void 0:mt.both_price)||8:4;await oe({product_id:(ht=h==null?void 0:h.product)==null?void 0:ht.id,qty:1,customization_id:xt,price:an}).unwrap(),n(xn.util.invalidateTags(["Cart"])),ee.success("Successfully added to cart!"),t("/cart")}catch(T){ee.error(`Failed: ${((gt=T==null?void 0:T.data)==null?void 0:gt.message)||(T==null?void 0:T.message)||"Unknown error"}`)}finally{y(!1)}}},Je=async()=>{var w;if(!p.current)return;let c=((w=S.current)==null?void 0:w.className)||"";try{S.current&&(S.current.className=c.replace(/border-2 border-dotted border-white/,""));const N=await At(p.current,{cacheBust:!0,pixelRatio:2});S.current&&(S.current.className=c);const f=document.createElement("a");f.download=`custom-${o}.png`,f.href=N,f.click()}catch{S.current&&(S.current.className=c),ee.error("Download failed")}},Qe=c=>{l(c),E(null)},Ze=()=>{var c,w;if(!((w=(c=h==null?void 0:h.product)==null?void 0:c.customization)!=null&&w[o+"_image"])){ee.error(`No ${o} image available.`);return}i(!0)},De=()=>i(!1);return q?a.jsx("h2",{className:"text-center text-white",children:"Loading..."}):Ce?a.jsxs("h2",{className:"text-center text-red-500",children:["Error: ",Ce.message]}):!((tt=(et=h==null?void 0:h.product)==null?void 0:et.customization)!=null&&tt.front_image)&&!((rt=(nt=h==null?void 0:h.product)==null?void 0:nt.customization)!=null&&rt.back_image)?a.jsx("h2",{className:"text-center text-yellow-500",children:"No customization available."}):q?a.jsx("div",{className:"min-h-screen bg-dark1 py-8 px-1 lg:px-4",children:a.jsx("div",{className:"w-full 2xl:max-w-4/5 mx-auto bg-dark2 rounded-xl overflow-hidden animate-pulse",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 p-4 lg:p-6",children:[a.jsx("div",{className:"md:hidden",children:a.jsxs("div",{className:"bg-dark1/50 p-6 rounded-xl",children:[a.jsx("div",{className:"h-8 bg-gray-700 rounded w-48 mx-auto mb-6"}),a.jsx("div",{className:"bg-gray-800 rounded-lg h-96 w-full mx-auto"})]})}),a.jsxs("div",{className:"bg-dark1 p-6 rounded-lg space-y-6",children:[a.jsx("div",{className:"flex gap-2 rounded-xl overflow-hidden",children:[...Array(3)].map((c,w)=>a.jsx("div",{className:"flex-1 h-12 bg-gray-700 rounded-lg"},w))}),a.jsxs("div",{className:"space-y-4",children:[[...Array(2)].map((c,w)=>a.jsxs("div",{className:"bg-gray-800/60 border border-gray-700 rounded-xl p-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-3",children:[a.jsx("div",{className:"h-6 bg-gray-700 rounded w-32"}),a.jsx("div",{className:"h-6 bg-gray-700 rounded w-20"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"h-12 bg-gray-700 rounded"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx("div",{className:"h-10 bg-gray-700 rounded"}),a.jsx("div",{className:"h-10 bg-gray-700 rounded"})]}),a.jsx("div",{className:"h-10 bg-gray-700 rounded"}),a.jsx("div",{className:"flex gap-3",children:[...Array(5)].map((N,f)=>a.jsx("div",{className:"w-12 h-12 bg-gray-700 rounded-full"},f))})]})]},w)),a.jsx("div",{className:"h-12 bg-gray-700 rounded-xl"})]}),a.jsx("div",{className:"h-14 bg-gray-700 rounded-2xl"})]}),a.jsxs("div",{className:"hidden md:block sticky top-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("div",{className:"flex gap-2",children:[...Array(2)].map((c,w)=>a.jsx("div",{className:"h-10 w-24 bg-gray-700 rounded-lg"},w))}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-gray-700 rounded-xl"}),a.jsx("div",{className:"w-12 h-12 bg-gray-700 rounded-xl"})]})]}),a.jsx("div",{className:"bg-gray-800 rounded-lg h-96 w-full mx-auto"})]})]})})}):a.jsxs("div",{className:"min-h-screen bg-dark1 py-8 px-1 lg:px-4",children:[a.jsx("div",{className:"w-full 2xl:max-w-4/5 mx-auto bg-dark2 rounded-xl overflow-hidden",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 p-4 lg:p-6 min-h-screen md:items-start",children:[a.jsx("div",{className:"md:hidden order-1",children:a.jsxs("div",{className:"bg-dark1/50 p-6 rounded-xl shadow-2xl",children:[a.jsx("div",{className:" z-20    ",children:a.jsxs("div",{className:"flex justify-between items-center gap-4",children:[a.jsx("div",{className:"flex   rounded-xl p-1 border border-white/20 mb-2",children:["front","back"].map(c=>a.jsx("button",{onClick:()=>Qe(c),className:`px-2 py-1 rounded-lg font-bold text-sm transition-all duration-300 cursor-pointer ${o===c?"bg-linear-to-r from-purple-600 to-pink-600 text-white shadow-lg shadow-purple-500/50":"text-gray-300 hover:text-white hover:bg-white/10"}`,children:c.charAt(0).toUpperCase()+c.slice(1)},c))}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:Ze,className:"py-1 px-5 bg-white/10 cursor-pointer hover:bg-white/20 backdrop-blur-md rounded-xl transition-all hover:scale-110",title:"Full Preview",children:a.jsx(bt,{className:"w-6 h-6 text-white","cursor-pointer":!0})}),a.jsx("button",{onClick:Je,className:"py-1 px-5 bg-white/10 hover:bg-white/20 backdrop-blur-md rounded-xl transition-all hover:scale-110",title:"Download PNG",children:a.jsx(wt,{className:"w-6 h-6 text-white"})})]})]})}),a.jsxs("figure",{ref:p,className:"relative w-full max-w-lg mx-auto",children:[a.jsx("img",{src:`/${h.product.customization[o+"_image"]}`,alt:`${o} view`,className:"w-full h-auto object-contain rounded-lg",crossOrigin:"anonymous"}),a.jsxs("div",{ref:S,className:"absolute inset-0 flex items-center justify-center border-2 border-dotted border-white/50 rounded-xl overflow-hidden pointer-events-none",style:O,children:[s.uploadedImage&&a.jsx("img",{src:s.uploadedImage,alt:"Sticker",className:"absolute object-contain pointer-events-none",style:m}),s.texts.map(c=>c.title&&a.jsx("p",{className:"absolute font-bold text-center pointer-events-none select-none",style:{fontSize:`${c.textSize}px`,color:c.titleColor,fontFamily:c.fontFamily,left:`${c.xAxis}%`,top:`${c.yAxis}%`,transform:"translate(-50%, -50%)",zIndex:s.imagePosition==="below"?10:1,whiteSpace:"pre-wrap",maxWidth:"90%"},children:c.title},c.id))]})]})]})}),a.jsxs("div",{className:"order-2 md:order-1 bg-dark1 p-4 rounded-lg shadow-md md:max-h-screen md:overflow-y-auto",children:[a.jsx("div",{className:"flex mb-8   rounded-xl   overflow-hidden border border-gray-700",children:["text","image","container"].map(c=>a.jsx("button",{onClick:()=>x(c),className:`flex-1 py-3 px-6 text-sm font-semibold rounded-lg transition-all duration-300 ${d===c?"bg-cream text-dark1 shadow-lg shadow-purple-500/30":"text-gray-400 hover:text-white hover:bg-gray-700/70"}`,children:c.charAt(0).toUpperCase()+c.slice(1)},c))}),d==="text"&&a.jsxs("div",{className:"space-y-4",children:[s.texts.map((c,w)=>{const N=A[c.id]??w===0;return a.jsxs("div",{className:"border border-gray-600 rounded-xl overflow-hidden bg-gray-800/60 shadow-lg",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 cursor-pointer hover:bg-gray-700/80 transition-all duration-200",onClick:()=>L(f=>({...f,[c.id]:!f[c.id]})),children:[a.jsxs("h4",{className:"text-md font-bold text-white flex items-center gap-3",children:[a.jsxs("span",{className:"text-cream",children:["Text ",w+1]}),c.title&&a.jsxs("span",{className:"text-sm font-normal text-gray truncate max-w-xs",children:['"',c.title,'"']})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[s.texts.length>1&&a.jsx("button",{onClick:f=>{f.stopPropagation(),Y(c.id),L(ie=>{const K={...ie};return delete K[c.id],K})},className:"text-red-400 hover:text-red-300 text-sm font-medium",children:"Remove"}),a.jsx("svg",{className:`w-6 h-6 text-gray-400 transition-transform duration-300 ${N?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),N&&a.jsxs("div",{className:"p-6 border-t border-gray-700 space-y-6 bg-gray-800/40",children:[a.jsx("input",{type:"text",value:c.title,onChange:f=>U(c.id,{title:f.target.value}),className:"w-full px-4 py-3 bg-gray-900 border border-gray-600 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-purple-500 transition",placeholder:"Enter your text here..."}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-gray-300 mb-2",children:["X Position:"," ",c.xAxis,"%"]}),a.jsx("input",{type:"range",min:"0",max:"100",value:c.xAxis,onChange:f=>U(c.id,{xAxis:+f.target.value}),className:"w-full h-2 bg-gray-700 rounded-lg cursor-pointer accent-purple-500"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-gray-300 mb-2",children:["Y Position:"," ",c.yAxis,"%"]}),a.jsx("input",{type:"range",min:"0",max:"100",value:c.yAxis,onChange:f=>U(c.id,{yAxis:+f.target.value}),className:"w-full h-2 bg-gray-700 rounded-lg cursor-pointer accent-purple-500"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-gray-300 mb-2",children:["Text Size:"," ",c.textSize,"px"]}),a.jsx("input",{type:"range",min:"12",max:"72",value:c.textSize,onChange:f=>U(c.id,{textSize:+f.target.value}),className:"w-full h-2 bg-gray-700 rounded-lg cursor-pointer accent-purple-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-white mb-3",children:"Text Color"}),a.jsx("div",{className:"flex gap-3 flex-wrap",children:j.map(f=>a.jsx("button",{onClick:()=>U(c.id,{titleColor:f.value}),className:`w-12 h-12 rounded-full border-4 transition-all ${c.titleColor===f.value?"border-white shadow-lg scale-110":"border-gray-600 hover:border-gray-400"}`,style:{backgroundColor:f.value}},f.id))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Font Style"}),a.jsx("select",{value:c.fontFamily,onChange:f=>U(c.id,{fontFamily:f.target.value}),className:"w-full px-4 py-3 bg-gray-900 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-purple-500",children:P.map(f=>a.jsx("option",{value:f.value,children:f.name},f.id))})]})]})]},c.id)}),a.jsx("button",{onClick:B,className:"w-full py-3 mt-2 bg-linear-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 text-white font-bold text-md rounded-xl shadow-2xl  ",children:"+ Add New Text"})]}),d==="image"&&a.jsx("div",{children:a.jsxs("div",{className:"mb-3 rounded-lg",children:[a.jsx("h3",{className:"text-sm font-semibold text-cream mb-1",children:"Upload Image/Sticker"}),a.jsx("div",{className:"mb-1",children:a.jsx("input",{type:"file",ref:g,onChange:Fe,accept:"image/*",className:"w-full px-2 py-1 text-xs border border-gray-300 rounded-lg text-cream cursor-pointer focus:outline-none"})}),s.uploadedImage&&a.jsxs("div",{className:"space-y-4 mt-4 p-3 bg-dark1 rounded-lg",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-xs font-medium text-cream mb-0",children:["Image X-Position:"," ",s.imageXAxis,"%"]}),a.jsx("input",{type:"range",min:"0",max:"100",value:s.imageXAxis,onChange:c=>V({imageXAxis:parseInt(c.target.value)}),className:"w-full h-2 bg-gray-300 rounded-lg appearance-none cursor-pointer"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-xs font-medium text-cream mb-0",children:["Image Y-Position:"," ",s.imageYAxis,"%"]}),a.jsx("input",{type:"range",min:"0",max:"100",value:s.imageYAxis,onChange:c=>V({imageYAxis:parseInt(c.target.value)}),className:"w-full h-2 bg-gray-300 rounded-lg appearance-none cursor-pointer"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-xs font-medium text-cream mb-0",children:["Image Size:"," ",s.imageSize,"%"]}),a.jsx("input",{type:"range",min:"10",max:"100",value:s.imageSize,onChange:c=>V({imageSize:parseInt(c.target.value)}),className:"w-full h-2 bg-gray-300 rounded-lg appearance-none cursor-pointer"})]})]}),a.jsx("button",{onClick:$e,className:"w-full bg-linear-to-r from-red-500 to-rose-600 hover:from-red-600 hover:to-rose-700 text-white font-bold py-3 rounded-lg shadow-md transition-all duration-300",children:"Remove Image"})]})]})}),d==="container"&&a.jsx("div",{children:a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{className:"block text-sm font-semibold text-cream mb-2",children:"Container Position"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-xs font-medium text-cream/70 mb-1",children:["Container X-Axis:"," ",s.containerXAxis,"%"]}),a.jsx("input",{type:"range",min:"0",max:"100",value:s.containerXAxis,onChange:c=>V({containerXAxis:parseInt(c.target.value)}),className:"w-full h-2 bg-gray-300 rounded-lg appearance-none cursor-pointer"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-xs font-medium text-cream/70 mb-1",children:["Container Y-Axis:"," ",s.containerYAxis,"%"]}),a.jsx("input",{type:"range",min:"0",max:"100",value:s.containerYAxis,onChange:c=>V({containerYAxis:parseInt(c.target.value)}),className:"w-full h-2 bg-gray-300 rounded-lg appearance-none cursor-pointer"})]})]})]})}),a.jsx("button",{onClick:nn,disabled:C||X||ae,className:`w-full py-3 mt-3 rounded-2xl font-bold text-lg text-white shadow-2xl transform transition-all duration-500 ${C||X||ae?"bg-gray-700 cursor-not-allowed opacity-70":"bg-linear-to-r from-pink-600 via-purple-600 to-indigo-600 hover:from-pink-700 hover:via-purple-700 hover:to-indigo-700 shadow-pink-500/50 active:scale-98"}`,children:C||X||ae?a.jsxs("span",{className:"flex items-center justify-center gap-3",children:[a.jsxs("svg",{className:"animate-spin h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Customize & Add to Cart"})]}),a.jsxs("div",{className:"hidden md:flex order-2 flex-col items-start  justify-start sticky top-1 z-10",children:[a.jsx("div",{className:" z-20   p-4",children:a.jsxs("div",{className:"flex justify-between items-center gap-4",children:[a.jsx("div",{className:"flex   rounded-xl p-1 border border-white/20",children:["front","back"].map(c=>a.jsx("button",{onClick:()=>Qe(c),className:`px-5 py-1 rounded-lg font-bold text-sm transition-all duration-300 cursor-pointer ${o===c?"bg-linear-to-r from-purple-600 to-pink-600 text-white shadow-lg shadow-purple-500/50":"text-gray-300 hover:text-white hover:bg-white/10"}`,children:c.charAt(0).toUpperCase()+c.slice(1)},c))}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:Ze,className:"py-1 px-5 bg-white/10 cursor-pointer hover:bg-white/20 backdrop-blur-md rounded-xl transition-all hover:scale-110",title:"Full Preview",children:a.jsx(bt,{className:"w-6 h-6 text-white","cursor-pointer":!0})}),a.jsx("button",{onClick:Je,className:"py-1 px-5 bg-white/10 hover:bg-white/20 backdrop-blur-md rounded-xl transition-all hover:scale-110",title:"Download PNG",children:a.jsx(wt,{className:"w-6 h-6 text-white"})})]})]})}),b?a.jsx("p",{className:"text-red-500",children:b}):(at=(ot=h==null?void 0:h.product)==null?void 0:ot.customization)!=null&&at[o+"_image"]?a.jsxs("figure",{ref:p,className:"relative w-[700px] max-w-full",children:[a.jsx("img",{src:`/${h.product.customization[o+"_image"]}`,alt:`${o} view`,className:"w-full h-auto object-contain rounded-lg shadow-2xl",crossOrigin:"anonymous"}),a.jsxs("div",{ref:S,className:"absolute inset-0 flex items-center justify-center border-2 border-dotted border-white/50 rounded-xl overflow-hidden pointer-events-none",style:O,children:[s.uploadedImage&&a.jsx("img",{src:s.uploadedImage,alt:"Sticker",className:"absolute object-contain pointer-events-none",style:m}),s.texts.map(c=>c.title&&a.jsx("p",{className:"absolute font-bold text-center pointer-events-none select-none ",style:{fontSize:`${c.textSize}px`,color:c.titleColor,fontFamily:c.fontFamily,left:`${c.xAxis}%`,top:`${c.yAxis}%`,transform:"translate(-50%, -50%)",zIndex:s.imagePosition==="below"?10:1,whiteSpace:"pre-wrap",maxWidth:"90%"},children:c.title},c.id))]})]}):a.jsxs("p",{className:"text-cream",children:["No ",o," image available."]})]})]})}),a.jsx(xo,{isOpen:u,onRequestClose:De,style:bo,contentLabel:"Preview Modal",ariaHideApp:!1,children:a.jsxs("div",{className:"flex flex-col items-center bg-white",children:[a.jsxs("div",{className:"flex justify-between items-center w-full mb-4",children:[a.jsxs("h2",{className:"text-xl font-bold text-dark1",children:[o.charAt(0).toUpperCase()+o.slice(1)," ","Design Preview"]}),a.jsx("button",{onClick:De,className:"text-gray-500 hover:text-gray-700 text-2xl",children:""})]}),a.jsx("div",{className:"flex justify-center w-full",children:b?a.jsx("p",{className:"text-red-500",children:b}):(it=(st=h==null?void 0:h.product)==null?void 0:st.customization)!=null&&it[o+"_image"]?a.jsxs("figure",{className:"relative w-full max-w-md h-auto",children:[a.jsx("div",{className:"relative w-full aspect-7/6",children:a.jsx("img",{src:`/${h.product.customization[o+"_image"]}`,alt:`${o} view`,className:"w-full h-full object-contain"})}),a.jsxs("div",{className:"absolute inset-0 flex items-center justify-center rounded-xl overflow-hidden",style:O,children:[s.uploadedImage&&a.jsx("img",{src:s.uploadedImage,alt:"Uploaded sticker",className:"absolute object-contain",style:m,crossOrigin:"anonymous"}),s.texts.map(c=>c.title&&a.jsx("p",{className:`absolute wrap-word font-bold text-center w-full font-${c.fontFamily}`,style:{fontSize:`${c.textSize}px`,color:c.titleColor,left:`${c.xAxis}%`,top:`${c.yAxis}%`,transform:"translate(-50%, -50%)",zIndex:s.imagePosition==="below"?10:1},children:c.title},c.id))]})]}):a.jsxs("p",{children:["No ",o," image available for preview."]})}),a.jsx("button",{onClick:De,className:"mt-4 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-lg transition duration-300",children:"Close Preview"})]})})]})};export{Eo as default};
