import{r as D,O as sn,Y as ln,P as cn,T as un,k as dn,Z as fn,Q as pn,U as mn,$ as hn,E as gn,H as vn,W as yn,K as ne,j as o,a0 as xn,a1 as bn}from"./app-rEsh-JMx.js";import{p as Tt}from"./index-BKNjMPK8.js";import{b as wn}from"./index-B8TUH-32.js";function Cn(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),s=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(s),t&&(r.href=t),s.href=e,s.href}const Sn=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function J(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}let de=null;function Mt(e={}){return de||(e.includeStyleProperties?(de=e.includeStyleProperties,de):(de=J(window.getComputedStyle(document.documentElement)),de))}function Oe(e,t){const r=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return r?parseFloat(r.replace("px","")):0}function En(e){const t=Oe(e,"border-left-width"),n=Oe(e,"border-right-width");return e.clientWidth+t+n}function _n(e){const t=Oe(e,"border-top-width"),n=Oe(e,"border-bottom-width");return e.clientHeight+t+n}function Ft(e,t={}){const n=t.width||En(e),r=t.height||_n(e);return{width:n,height:r}}function Nn(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const F=16384;function On(e){(e.width>F||e.height>F)&&(e.width>F&&e.height>F?e.width>e.height?(e.height*=F/e.width,e.width=F):(e.width*=F/e.height,e.height=F):e.width>F?(e.height*=F/e.width,e.width=F):(e.width*=F/e.height,e.height=F))}function je(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>t(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}async function jn(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function An(e,t,n){const r="http://www.w3.org/2000/svg",s=document.createElementNS(r,"svg"),i=document.createElementNS(r,"foreignObject");return s.setAttribute("width",`${t}`),s.setAttribute("height",`${n}`),s.setAttribute("viewBox",`0 0 ${t} ${n}`),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("x","0"),i.setAttribute("y","0"),i.setAttribute("externalResourcesRequired","true"),s.appendChild(i),i.appendChild(e),jn(s)}const T=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||T(n,t)};function Pn(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function Rn(e,t){return Mt(t).map(n=>{const r=e.getPropertyValue(n),s=e.getPropertyPriority(n);return`${n}: ${r}${s?" !important":""};`}).join(" ")}function kn(e,t,n,r){const s=`.${e}:${t}`,i=n.cssText?Pn(n):Rn(n,r);return document.createTextNode(`${s}{${i}}`)}function vt(e,t,n,r){const s=window.getComputedStyle(e,n),i=s.getPropertyValue("content");if(i===""||i==="none")return;const u=Sn();try{t.className=`${t.className} ${u}`}catch{return}const a=document.createElement("style");a.appendChild(kn(u,n,s,r)),t.appendChild(a)}function Tn(e,t,n){vt(e,t,":before",n),vt(e,t,":after",n)}const yt="application/font-woff",xt="image/jpeg",Mn={woff:yt,woff2:yt,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:xt,jpeg:xt,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function Fn(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function Be(e){const t=Fn(e).toLowerCase();return Mn[t]||""}function Dn(e){return e.split(/,/)[1]}function Ue(e){return e.search(/^(data:)/)!==-1}function $n(e,t){return`data:${t};base64,${e}`}async function Dt(e,t,n){const r=await fetch(e,t);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const s=await r.blob();return new Promise((i,u)=>{const a=new FileReader;a.onerror=u,a.onloadend=()=>{try{i(n({res:r,result:a.result}))}catch(p){u(p)}},a.readAsDataURL(s)})}const Le={};function Ln(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}async function Ye(e,t,n){const r=Ln(e,t,n.includeQueryParams);if(Le[r]!=null)return Le[r];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let s;try{const i=await Dt(e,n.fetchRequestInit,({res:u,result:a})=>(t||(t=u.headers.get("Content-Type")||""),Dn(a)));s=$n(i,t)}catch(i){s=n.imagePlaceholder||"";let u=`Failed to fetch resource: ${e}`;i&&(u=typeof i=="string"?i:i.message),u&&console.warn(u)}return Le[r]=s,s}async function Un(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):je(t)}async function Wn(e,t){if(e.currentSrc){const i=document.createElement("canvas"),u=i.getContext("2d");i.width=e.clientWidth,i.height=e.clientHeight,u==null||u.drawImage(e,0,0,i.width,i.height);const a=i.toDataURL();return je(a)}const n=e.poster,r=Be(n),s=await Ye(n,r,t);return je(s)}async function zn(e,t){var n;try{if(!((n=e==null?void 0:e.contentDocument)===null||n===void 0)&&n.body)return await ke(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function Hn(e,t){return T(e,HTMLCanvasElement)?Un(e):T(e,HTMLVideoElement)?Wn(e,t):T(e,HTMLIFrameElement)?zn(e,t):e.cloneNode($t(e))}const In=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",$t=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function qn(e,t,n){var r,s;if($t(t))return t;let i=[];return In(e)&&e.assignedNodes?i=J(e.assignedNodes()):T(e,HTMLIFrameElement)&&(!((r=e.contentDocument)===null||r===void 0)&&r.body)?i=J(e.contentDocument.body.childNodes):i=J(((s=e.shadowRoot)!==null&&s!==void 0?s:e).childNodes),i.length===0||T(e,HTMLVideoElement)||await i.reduce((u,a)=>u.then(()=>ke(a,n)).then(p=>{p&&t.appendChild(p)}),Promise.resolve()),t}function Bn(e,t,n){const r=t.style;if(!r)return;const s=window.getComputedStyle(e);s.cssText?(r.cssText=s.cssText,r.transformOrigin=s.transformOrigin):Mt(n).forEach(i=>{let u=s.getPropertyValue(i);i==="font-size"&&u.endsWith("px")&&(u=`${Math.floor(parseFloat(u.substring(0,u.length-2)))-.1}px`),T(e,HTMLIFrameElement)&&i==="display"&&u==="inline"&&(u="block"),i==="d"&&t.getAttribute("d")&&(u=`path(${t.getAttribute("d")})`),r.setProperty(i,u,s.getPropertyPriority(i))})}function Yn(e,t){T(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),T(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function Vn(e,t){if(T(e,HTMLSelectElement)){const n=t,r=Array.from(n.children).find(s=>e.value===s.getAttribute("value"));r&&r.setAttribute("selected","")}}function Xn(e,t,n){return T(t,Element)&&(Bn(e,t,n),Tn(e,t,n),Yn(e,t),Vn(e,t)),t}async function Gn(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const r={};for(let i=0;i<n.length;i++){const a=n[i].getAttribute("xlink:href");if(a){const p=e.querySelector(a),b=document.querySelector(a);!p&&b&&!r[a]&&(r[a]=await ke(b,t,!0))}}const s=Object.values(r);if(s.length){const i="http://www.w3.org/1999/xhtml",u=document.createElementNS(i,"svg");u.setAttribute("xmlns",i),u.style.position="absolute",u.style.width="0",u.style.height="0",u.style.overflow="hidden",u.style.display="none";const a=document.createElementNS(i,"defs");u.appendChild(a);for(let p=0;p<s.length;p++)a.appendChild(s[p]);e.appendChild(u)}return e}async function ke(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(r=>Hn(r,t)).then(r=>qn(e,r,t)).then(r=>Xn(e,r,t)).then(r=>Gn(r,t))}const Lt=/url\((['"]?)([^'"]+?)\1\)/g,Kn=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,Jn=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function Qn(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function Zn(e){const t=[];return e.replace(Lt,(n,r,s)=>(t.push(s),n)),t.filter(n=>!Ue(n))}async function er(e,t,n,r,s){try{const i=n?Cn(t,n):t,u=Be(t);let a;return s||(a=await Ye(i,u,r)),e.replace(Qn(t),`$1${a}$3`)}catch{}return e}function tr(e,{preferredFontFormat:t}){return t?e.replace(Jn,n=>{for(;;){const[r,,s]=Kn.exec(n)||[];if(!s)return"";if(s===t)return`src: ${r};`}}):e}function Ut(e){return e.search(Lt)!==-1}async function Wt(e,t,n){if(!Ut(e))return e;const r=tr(e,n);return Zn(r).reduce((i,u)=>i.then(a=>er(a,u,t,n)),Promise.resolve(r))}async function fe(e,t,n){var r;const s=(r=t.style)===null||r===void 0?void 0:r.getPropertyValue(e);if(s){const i=await Wt(s,null,n);return t.style.setProperty(e,i,t.style.getPropertyPriority(e)),!0}return!1}async function nr(e,t){await fe("background",e,t)||await fe("background-image",e,t),await fe("mask",e,t)||await fe("-webkit-mask",e,t)||await fe("mask-image",e,t)||await fe("-webkit-mask-image",e,t)}async function rr(e,t){const n=T(e,HTMLImageElement);if(!(n&&!Ue(e.src))&&!(T(e,SVGImageElement)&&!Ue(e.href.baseVal)))return;const r=n?e.src:e.href.baseVal,s=await Ye(r,Be(r),t);await new Promise((i,u)=>{e.onload=i,e.onerror=t.onImageErrorHandler?(...p)=>{try{i(t.onImageErrorHandler(...p))}catch(b){u(b)}}:u;const a=e;a.decode&&(a.decode=i),a.loading==="lazy"&&(a.loading="eager"),n?(e.srcset="",e.src=s):e.href.baseVal=s})}async function ar(e,t){const r=J(e.childNodes).map(s=>zt(s,t));await Promise.all(r).then(()=>e)}async function zt(e,t){T(e,Element)&&(await nr(e,t),await rr(e,t),await ar(e,t))}function or(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;return r!=null&&Object.keys(r).forEach(s=>{n[s]=r[s]}),e}const bt={};async function wt(e){let t=bt[e];if(t!=null)return t;const r=await(await fetch(e)).text();return t={url:e,cssText:r},bt[e]=t,t}async function Ct(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,i=(n.match(/url\([^)]+\)/g)||[]).map(async u=>{let a=u.replace(r,"$1");return a.startsWith("https://")||(a=new URL(a,e.url).href),Dt(a,t.fetchRequestInit,({result:p})=>(n=n.replace(u,`url(${p})`),[u,p]))});return Promise.all(i).then(()=>n)}function St(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=e.replace(n,"");const s=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const p=s.exec(r);if(p===null)break;t.push(p[0])}r=r.replace(s,"");const i=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,u="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",a=new RegExp(u,"gi");for(;;){let p=i.exec(r);if(p===null){if(p=a.exec(r),p===null)break;i.lastIndex=a.lastIndex}else a.lastIndex=i.lastIndex;t.push(p[0])}return t}async function sr(e,t){const n=[],r=[];return e.forEach(s=>{if("cssRules"in s)try{J(s.cssRules||[]).forEach((i,u)=>{if(i.type===CSSRule.IMPORT_RULE){let a=u+1;const p=i.href,b=wt(p).then(C=>Ct(C,t)).then(C=>St(C).forEach(x=>{try{s.insertRule(x,x.startsWith("@import")?a+=1:s.cssRules.length)}catch(S){console.error("Error inserting rule from remote css",{rule:x,error:S})}})).catch(C=>{console.error("Error loading remote css",C.toString())});r.push(b)}})}catch(i){const u=e.find(a=>a.href==null)||document.styleSheets[0];s.href!=null&&r.push(wt(s.href).then(a=>Ct(a,t)).then(a=>St(a).forEach(p=>{u.insertRule(p,u.cssRules.length)})).catch(a=>{console.error("Error loading remote stylesheet",a)})),console.error("Error inlining remote css file",i)}}),Promise.all(r).then(()=>(e.forEach(s=>{if("cssRules"in s)try{J(s.cssRules||[]).forEach(i=>{n.push(i)})}catch(i){console.error(`Error while reading CSS rules from ${s.href}`,i)}}),n))}function ir(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>Ut(t.style.getPropertyValue("src")))}async function lr(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=J(e.ownerDocument.styleSheets),r=await sr(n,t);return ir(r)}function Ht(e){return e.trim().replace(/["']/g,"")}function cr(e){const t=new Set;function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(i=>{t.add(Ht(i))}),Array.from(r.children).forEach(i=>{i instanceof HTMLElement&&n(i)})}return n(e),t}async function ur(e,t){const n=await lr(e,t),r=cr(e);return(await Promise.all(n.filter(i=>r.has(Ht(i.style.fontFamily))).map(i=>{const u=i.parentStyleSheet?i.parentStyleSheet.href:null;return Wt(i.cssText,u,t)}))).join(`
`)}async function dr(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await ur(e,t);if(n){const r=document.createElement("style"),s=document.createTextNode(n);r.appendChild(s),e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}}async function fr(e,t={}){const{width:n,height:r}=Ft(e,t),s=await ke(e,t,!0);return await dr(s,t),await zt(s,t),or(s,t),await An(s,n,r)}async function pr(e,t={}){const{width:n,height:r}=Ft(e,t),s=await fr(e,t),i=await je(s),u=document.createElement("canvas"),a=u.getContext("2d"),p=t.pixelRatio||Nn(),b=t.canvasWidth||n,C=t.canvasHeight||r;return u.width=b*p,u.height=C*p,t.skipAutoScale||On(u),u.style.width=`${b}`,u.style.height=`${C}`,t.backgroundColor&&(a.fillStyle=t.backgroundColor,a.fillRect(0,0,u.width,u.height)),a.drawImage(i,0,0,u.width,u.height),u}async function Et(e,t={}){return(await pr(e,t)).toDataURL()}var We={exports:{}},oe={},ze={exports:{}},z={},He={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=C;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var n="none",r="contents",s=/^(input|select|textarea|button|object|iframe)$/;function i(x,S){return S.getPropertyValue("overflow")!=="visible"||x.scrollWidth<=0&&x.scrollHeight<=0}function u(x){var S=x.offsetWidth<=0&&x.offsetHeight<=0;if(S&&!x.innerHTML)return!0;try{var E=window.getComputedStyle(x),j=E.getPropertyValue("display");return S?j!==r&&i(x,E):j===n}catch{return console.warn("Failed to inspect element style"),!1}}function a(x){for(var S=x,E=x.getRootNode&&x.getRootNode();S&&S!==document.body;){if(E&&S===E&&(S=E.host.parentNode),u(S))return!1;S=S.parentNode}return!0}function p(x,S){var E=x.nodeName.toLowerCase(),j=s.test(E)&&!x.disabled||E==="a"&&x.href||S;return j&&a(x)}function b(x){var S=x.getAttribute("tabindex");S===null&&(S=void 0);var E=isNaN(S);return(E||S>=0)&&p(x,!E)}function C(x){var S=[].slice.call(x.querySelectorAll("*"),0).reduce(function(E,j){return E.concat(j.shadowRoot?C(j.shadowRoot):[j])},[]);return S.filter(b)}e.exports=t.default})(He,He.exports);var It=He.exports;Object.defineProperty(z,"__esModule",{value:!0});z.resetState=vr;z.log=yr;z.handleBlur=xe;z.handleFocus=be;z.markForFocusLater=xr;z.returnFocus=br;z.popWithoutFocus=wr;z.setupScopedFocus=Cr;z.teardownScopedFocus=Sr;var mr=It,hr=gr(mr);function gr(e){return e&&e.__esModule?e:{default:e}}var me=[],pe=null,Ie=!1;function vr(){me=[]}function yr(){}function xe(){Ie=!0}function be(){if(Ie){if(Ie=!1,!pe)return;setTimeout(function(){if(!pe.contains(document.activeElement)){var e=(0,hr.default)(pe)[0]||pe;e.focus()}},0)}}function xr(){me.push(document.activeElement)}function br(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=null;try{me.length!==0&&(t=me.pop(),t.focus({preventScroll:e}));return}catch{console.warn(["You tried to return focus to",t,"but it is not in the DOM anymore"].join(" "))}}function wr(){me.length>0&&me.pop()}function Cr(e){pe=e,window.addEventListener?(window.addEventListener("blur",xe,!1),document.addEventListener("focus",be,!0)):(window.attachEvent("onBlur",xe),document.attachEvent("onFocus",be))}function Sr(){pe=null,window.addEventListener?(window.removeEventListener("blur",xe),document.removeEventListener("focus",be)):(window.detachEvent("onBlur",xe),document.detachEvent("onFocus",be))}var qe={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var n=It,r=s(n);function s(a){return a&&a.__esModule?a:{default:a}}function i(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return a.activeElement.shadowRoot?i(a.activeElement.shadowRoot):a.activeElement}function u(a,p){var b=(0,r.default)(a);if(!b.length){p.preventDefault();return}var C=void 0,x=p.shiftKey,S=b[0],E=b[b.length-1],j=i();if(a===j){if(!x)return;C=E}if(E===j&&!x&&(C=S),S===j&&x&&(C=E),C){p.preventDefault(),C.focus();return}var M=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),B=M!=null&&M[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(B){var Y=b.indexOf(j);if(Y>-1&&(Y+=x?-1:1),C=b[Y],typeof C>"u"){p.preventDefault(),C=x?E:S,C.focus();return}p.preventDefault(),C.focus()}}e.exports=t.default})(qe,qe.exports);var Er=qe.exports,H={},_r=function(){},Nr=_r,W={},qt={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(e){(function(){var t=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:t,canUseWorkers:typeof Worker<"u",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen};e.exports?e.exports=n:window.ExecutionEnvironment=n})()})(qt);var Or=qt.exports;Object.defineProperty(W,"__esModule",{value:!0});W.canUseDOM=W.SafeNodeList=W.SafeHTMLCollection=void 0;var jr=Or,Ar=Pr(jr);function Pr(e){return e&&e.__esModule?e:{default:e}}var Te=Ar.default,Rr=Te.canUseDOM?window.HTMLElement:{};W.SafeHTMLCollection=Te.canUseDOM?window.HTMLCollection:{};W.SafeNodeList=Te.canUseDOM?window.NodeList:{};W.canUseDOM=Te.canUseDOM;W.default=Rr;Object.defineProperty(H,"__esModule",{value:!0});H.resetState=Dr;H.log=$r;H.assertNodeList=Bt;H.setElement=Lr;H.validateElement=Ve;H.hide=Ur;H.show=Wr;H.documentNotReadyOrSSRTesting=zr;var kr=Nr,Tr=Fr(kr),Mr=W;function Fr(e){return e&&e.__esModule?e:{default:e}}var L=null;function Dr(){L&&(L.removeAttribute?L.removeAttribute("aria-hidden"):L.length!=null?L.forEach(function(e){return e.removeAttribute("aria-hidden")}):document.querySelectorAll(L).forEach(function(e){return e.removeAttribute("aria-hidden")})),L=null}function $r(){}function Bt(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function Lr(e){var t=e;if(typeof t=="string"&&Mr.canUseDOM){var n=document.querySelectorAll(t);Bt(n,t),t=n}return L=t||L,L}function Ve(e){var t=e||L;return t?Array.isArray(t)||t instanceof HTMLCollection||t instanceof NodeList?t:[t]:((0,Tr.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function Ur(e){var t=!0,n=!1,r=void 0;try{for(var s=Ve(e)[Symbol.iterator](),i;!(t=(i=s.next()).done);t=!0){var u=i.value;u.setAttribute("aria-hidden","true")}}catch(a){n=!0,r=a}finally{try{!t&&s.return&&s.return()}finally{if(n)throw r}}}function Wr(e){var t=!0,n=!1,r=void 0;try{for(var s=Ve(e)[Symbol.iterator](),i;!(t=(i=s.next()).done);t=!0){var u=i.value;u.removeAttribute("aria-hidden")}}catch(a){n=!0,r=a}finally{try{!t&&s.return&&s.return()}finally{if(n)throw r}}}function zr(){L=null}var he={};Object.defineProperty(he,"__esModule",{value:!0});he.resetState=Hr;he.log=Ir;var ve={},ye={};function _t(e,t){e.classList.remove(t)}function Hr(){var e=document.getElementsByTagName("html")[0];for(var t in ve)_t(e,ve[t]);var n=document.body;for(var r in ye)_t(n,ye[r]);ve={},ye={}}function Ir(){}var qr=function(t,n){return t[n]||(t[n]=0),t[n]+=1,n},Br=function(t,n){return t[n]&&(t[n]-=1),n},Yr=function(t,n,r){r.forEach(function(s){qr(n,s),t.add(s)})},Vr=function(t,n,r){r.forEach(function(s){Br(n,s),n[s]===0&&t.remove(s)})};he.add=function(t,n){return Yr(t.classList,t.nodeName.toLowerCase()=="html"?ve:ye,n.split(" "))};he.remove=function(t,n){return Vr(t.classList,t.nodeName.toLowerCase()=="html"?ve:ye,n.split(" "))};var ge={};Object.defineProperty(ge,"__esModule",{value:!0});ge.log=Gr;ge.resetState=Kr;function Xr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Yt=function e(){var t=this;Xr(this,e),this.register=function(n){t.openInstances.indexOf(n)===-1&&(t.openInstances.push(n),t.emit("register"))},this.deregister=function(n){var r=t.openInstances.indexOf(n);r!==-1&&(t.openInstances.splice(r,1),t.emit("deregister"))},this.subscribe=function(n){t.subscribers.push(n)},this.emit=function(n){t.subscribers.forEach(function(r){return r(n,t.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},Ae=new Yt;function Gr(){console.log("portalOpenInstances ----------"),console.log(Ae.openInstances.length),Ae.openInstances.forEach(function(e){return console.log(e)}),console.log("end portalOpenInstances ----------")}function Kr(){Ae=new Yt}ge.default=Ae;var Xe={};Object.defineProperty(Xe,"__esModule",{value:!0});Xe.resetState=ea;Xe.log=ta;var Jr=ge,Qr=Zr(Jr);function Zr(e){return e&&e.__esModule?e:{default:e}}var R=void 0,U=void 0,ae=[];function ea(){for(var e=[R,U],t=0;t<e.length;t++){var n=e[t];n&&n.parentNode&&n.parentNode.removeChild(n)}R=U=null,ae=[]}function ta(){console.log("bodyTrap ----------"),console.log(ae.length);for(var e=[R,U],t=0;t<e.length;t++){var n=e[t],r=n||{};console.log(r.nodeName,r.className,r.id)}console.log("edn bodyTrap ----------")}function Nt(){ae.length!==0&&ae[ae.length-1].focusContent()}function na(e,t){!R&&!U&&(R=document.createElement("div"),R.setAttribute("data-react-modal-body-trap",""),R.style.position="absolute",R.style.opacity="0",R.setAttribute("tabindex","0"),R.addEventListener("focus",Nt),U=R.cloneNode(),U.addEventListener("focus",Nt)),ae=t,ae.length>0?(document.body.firstChild!==R&&document.body.insertBefore(R,document.body.firstChild),document.body.lastChild!==U&&document.body.appendChild(U)):(R.parentElement&&R.parentElement.removeChild(R),U.parentElement&&U.parentElement.removeChild(U))}Qr.default.subscribe(na);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(d){for(var g=1;g<arguments.length;g++){var _=arguments[g];for(var l in _)Object.prototype.hasOwnProperty.call(_,l)&&(d[l]=_[l])}return d},r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},s=function(){function d(g,_){for(var l=0;l<_.length;l++){var f=_[l];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(g,f.key,f)}}return function(g,_,l){return _&&d(g.prototype,_),l&&d(g,l),g}}(),i=D,u=Tt,a=Q(u),p=z,b=se(p),C=Er,x=Q(C),S=H,E=se(S),j=he,M=se(j),B=W,Y=Q(B),Se=ge,v=Q(Se);function se(d){if(d&&d.__esModule)return d;var g={};if(d!=null)for(var _ in d)Object.prototype.hasOwnProperty.call(d,_)&&(g[_]=d[_]);return g.default=d,g}function Q(d){return d&&d.__esModule?d:{default:d}}function Me(d,g){if(!(d instanceof g))throw new TypeError("Cannot call a class as a function")}function ie(d,g){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:d}function Fe(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);d.prototype=Object.create(g&&g.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(d,g):d.__proto__=g)}var V={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},Ge=function(g){return g.code==="Tab"||g.keyCode===9},Ee=function(g){return g.code==="Escape"||g.keyCode===27},Z=0,ee=function(d){Fe(g,d);function g(_){Me(this,g);var l=ie(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,_));return l.setOverlayRef=function(f){l.overlay=f,l.props.overlayRef&&l.props.overlayRef(f)},l.setContentRef=function(f){l.content=f,l.props.contentRef&&l.props.contentRef(f)},l.afterClose=function(){var f=l.props,m=f.appElement,A=f.ariaHideApp,O=f.htmlOpenClassName,I=f.bodyOpenClassName,q=f.parentSelector,le=q&&q().ownerDocument||document;I&&M.remove(le.body,I),O&&M.remove(le.getElementsByTagName("html")[0],O),A&&Z>0&&(Z-=1,Z===0&&E.show(m)),l.props.shouldFocusAfterRender&&(l.props.shouldReturnFocusAfterClose?(b.returnFocus(l.props.preventScroll),b.teardownScopedFocus()):b.popWithoutFocus()),l.props.onAfterClose&&l.props.onAfterClose(),v.default.deregister(l)},l.open=function(){l.beforeOpen(),l.state.afterOpen&&l.state.beforeClose?(clearTimeout(l.closeTimer),l.setState({beforeClose:!1})):(l.props.shouldFocusAfterRender&&(b.setupScopedFocus(l.node),b.markForFocusLater()),l.setState({isOpen:!0},function(){l.openAnimationFrame=requestAnimationFrame(function(){l.setState({afterOpen:!0}),l.props.isOpen&&l.props.onAfterOpen&&l.props.onAfterOpen({overlayEl:l.overlay,contentEl:l.content})})}))},l.close=function(){l.props.closeTimeoutMS>0?l.closeWithTimeout():l.closeWithoutTimeout()},l.focusContent=function(){return l.content&&!l.contentHasFocus()&&l.content.focus({preventScroll:!0})},l.closeWithTimeout=function(){var f=Date.now()+l.props.closeTimeoutMS;l.setState({beforeClose:!0,closesAt:f},function(){l.closeTimer=setTimeout(l.closeWithoutTimeout,l.state.closesAt-Date.now())})},l.closeWithoutTimeout=function(){l.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},l.afterClose)},l.handleKeyDown=function(f){Ge(f)&&(0,x.default)(l.content,f),l.props.shouldCloseOnEsc&&Ee(f)&&(f.stopPropagation(),l.requestClose(f))},l.handleOverlayOnClick=function(f){l.shouldClose===null&&(l.shouldClose=!0),l.shouldClose&&l.props.shouldCloseOnOverlayClick&&(l.ownerHandlesClose()?l.requestClose(f):l.focusContent()),l.shouldClose=null},l.handleContentOnMouseUp=function(){l.shouldClose=!1},l.handleOverlayOnMouseDown=function(f){!l.props.shouldCloseOnOverlayClick&&f.target==l.overlay&&f.preventDefault()},l.handleContentOnClick=function(){l.shouldClose=!1},l.handleContentOnMouseDown=function(){l.shouldClose=!1},l.requestClose=function(f){return l.ownerHandlesClose()&&l.props.onRequestClose(f)},l.ownerHandlesClose=function(){return l.props.onRequestClose},l.shouldBeClosed=function(){return!l.state.isOpen&&!l.state.beforeClose},l.contentHasFocus=function(){return document.activeElement===l.content||l.content.contains(document.activeElement)},l.buildClassName=function(f,m){var A=(typeof m>"u"?"undefined":r(m))==="object"?m:{base:V[f],afterOpen:V[f]+"--after-open",beforeClose:V[f]+"--before-close"},O=A.base;return l.state.afterOpen&&(O=O+" "+A.afterOpen),l.state.beforeClose&&(O=O+" "+A.beforeClose),typeof m=="string"&&m?O+" "+m:O},l.attributesFromObject=function(f,m){return Object.keys(m).reduce(function(A,O){return A[f+"-"+O]=m[O],A},{})},l.state={afterOpen:!1,beforeClose:!1},l.shouldClose=null,l.moveFromContentToOverlay=null,l}return s(g,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(l,f){this.props.isOpen&&!l.isOpen?this.open():!this.props.isOpen&&l.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!f.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var l=this.props,f=l.appElement,m=l.ariaHideApp,A=l.htmlOpenClassName,O=l.bodyOpenClassName,I=l.parentSelector,q=I&&I().ownerDocument||document;O&&M.add(q.body,O),A&&M.add(q.getElementsByTagName("html")[0],A),m&&(Z+=1,E.hide(f)),v.default.register(this)}},{key:"render",value:function(){var l=this.props,f=l.id,m=l.className,A=l.overlayClassName,O=l.defaultStyles,I=l.children,q=m?{}:O.content,le=A?{}:O.overlay;if(this.shouldBeClosed())return null;var De={ref:this.setOverlayRef,className:this.buildClassName("overlay",A),style:n({},le,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},X=n({id:f,ref:this.setContentRef,style:n({},q,this.props.style.content),className:this.buildClassName("content",m),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),$=this.props.contentElement(X,I);return this.props.overlayElement(De,$)}}]),g}(i.Component);ee.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},ee.propTypes={isOpen:a.default.bool.isRequired,defaultStyles:a.default.shape({content:a.default.object,overlay:a.default.object}),style:a.default.shape({content:a.default.object,overlay:a.default.object}),className:a.default.oneOfType([a.default.string,a.default.object]),overlayClassName:a.default.oneOfType([a.default.string,a.default.object]),parentSelector:a.default.func,bodyOpenClassName:a.default.string,htmlOpenClassName:a.default.string,ariaHideApp:a.default.bool,appElement:a.default.oneOfType([a.default.instanceOf(Y.default),a.default.instanceOf(B.SafeHTMLCollection),a.default.instanceOf(B.SafeNodeList),a.default.arrayOf(a.default.instanceOf(Y.default))]),onAfterOpen:a.default.func,onAfterClose:a.default.func,onRequestClose:a.default.func,closeTimeoutMS:a.default.number,shouldFocusAfterRender:a.default.bool,shouldCloseOnOverlayClick:a.default.bool,shouldReturnFocusAfterClose:a.default.bool,preventScroll:a.default.bool,role:a.default.string,contentLabel:a.default.string,aria:a.default.object,data:a.default.object,children:a.default.node,shouldCloseOnEsc:a.default.bool,overlayRef:a.default.func,contentRef:a.default.func,id:a.default.string,overlayElement:a.default.func,contentElement:a.default.func,testId:a.default.string},t.default=ee,e.exports=t.default})(ze,ze.exports);var ra=ze.exports;function Vt(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function Xt(e){function t(n){var r=this.constructor.getDerivedStateFromProps(e,n);return r??null}this.setState(t.bind(this))}function Gt(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}Vt.__suppressDeprecationWarning=!0;Xt.__suppressDeprecationWarning=!0;Gt.__suppressDeprecationWarning=!0;function aa(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var n=null,r=null,s=null;if(typeof t.componentWillMount=="function"?n="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?s="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(s="UNSAFE_componentWillUpdate"),n!==null||r!==null||s!==null){var i=e.displayName||e.name,u=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+i+" uses "+u+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(s!==null?`
  `+s:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=Vt,t.componentWillReceiveProps=Xt),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=Gt;var a=t.componentDidUpdate;t.componentDidUpdate=function(b,C,x){var S=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:x;a.call(this,b,C,S)}}return e}const oa=Object.freeze(Object.defineProperty({__proto__:null,polyfill:aa},Symbol.toStringTag,{value:"Module"})),sa=sn(oa);Object.defineProperty(oe,"__esModule",{value:!0});oe.bodyOpenClassName=oe.portalClassName=void 0;var Ot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ia=function(){function e(t,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Kt=D,Pe=we(Kt),la=ln,Re=we(la),ca=Tt,y=we(ca),ua=ra,jt=we(ua),da=H,fa=ma(da),K=W,At=we(K),pa=sa;function ma(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function we(e){return e&&e.__esModule?e:{default:e}}function ha(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function ga(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var va=oe.portalClassName="ReactModalPortal",ya=oe.bodyOpenClassName="ReactModal__Body--open",re=K.canUseDOM&&Re.default.createPortal!==void 0,Rt=function(t){return document.createElement(t)},kt=function(){return re?Re.default.createPortal:Re.default.unstable_renderSubtreeIntoContainer};function Ne(e){return e()}var Ce=function(e){ga(t,e);function t(){var n,r,s,i;ha(this,t);for(var u=arguments.length,a=Array(u),p=0;p<u;p++)a[p]=arguments[p];return i=(r=(s=Pt(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(a))),s),s.removePortal=function(){!re&&Re.default.unmountComponentAtNode(s.node);var b=Ne(s.props.parentSelector);b&&b.contains(s.node)?b.removeChild(s.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},s.portalRef=function(b){s.portal=b},s.renderPortal=function(b){var C=kt(),x=C(s,Pe.default.createElement(jt.default,Ot({defaultStyles:t.defaultStyles},b)),s.node);s.portalRef(x)},r),Pt(s,i)}return ia(t,[{key:"componentDidMount",value:function(){if(K.canUseDOM){re||(this.node=Rt("div")),this.node.className=this.props.portalClassName;var r=Ne(this.props.parentSelector);r.appendChild(this.node),!re&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(r){var s=Ne(r.parentSelector),i=Ne(this.props.parentSelector);return{prevParent:s,nextParent:i}}},{key:"componentDidUpdate",value:function(r,s,i){if(K.canUseDOM){var u=this.props,a=u.isOpen,p=u.portalClassName;r.portalClassName!==p&&(this.node.className=p);var b=i.prevParent,C=i.nextParent;C!==b&&(b.removeChild(this.node),C.appendChild(this.node)),!(!r.isOpen&&!a)&&!re&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!K.canUseDOM||!this.node||!this.portal)){var r=this.portal.state,s=Date.now(),i=r.isOpen&&this.props.closeTimeoutMS&&(r.closesAt||s+this.props.closeTimeoutMS);i?(r.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,i-s)):this.removePortal()}}},{key:"render",value:function(){if(!K.canUseDOM||!re)return null;!this.node&&re&&(this.node=Rt("div"));var r=kt();return r(Pe.default.createElement(jt.default,Ot({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(r){fa.setElement(r)}}]),t}(Kt.Component);Ce.propTypes={isOpen:y.default.bool.isRequired,style:y.default.shape({content:y.default.object,overlay:y.default.object}),portalClassName:y.default.string,bodyOpenClassName:y.default.string,htmlOpenClassName:y.default.string,className:y.default.oneOfType([y.default.string,y.default.shape({base:y.default.string.isRequired,afterOpen:y.default.string.isRequired,beforeClose:y.default.string.isRequired})]),overlayClassName:y.default.oneOfType([y.default.string,y.default.shape({base:y.default.string.isRequired,afterOpen:y.default.string.isRequired,beforeClose:y.default.string.isRequired})]),appElement:y.default.oneOfType([y.default.instanceOf(At.default),y.default.instanceOf(K.SafeHTMLCollection),y.default.instanceOf(K.SafeNodeList),y.default.arrayOf(y.default.instanceOf(At.default))]),onAfterOpen:y.default.func,onRequestClose:y.default.func,closeTimeoutMS:y.default.number,ariaHideApp:y.default.bool,shouldFocusAfterRender:y.default.bool,shouldCloseOnOverlayClick:y.default.bool,shouldReturnFocusAfterClose:y.default.bool,preventScroll:y.default.bool,parentSelector:y.default.func,aria:y.default.object,data:y.default.object,role:y.default.string,contentLabel:y.default.string,shouldCloseOnEsc:y.default.bool,overlayRef:y.default.func,contentRef:y.default.func,id:y.default.string,overlayElement:y.default.func,contentElement:y.default.func};Ce.defaultProps={isOpen:!1,portalClassName:va,bodyOpenClassName:ya,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(t,n){return Pe.default.createElement("div",t,n)},contentElement:function(t,n){return Pe.default.createElement("div",t,n)}};Ce.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}};(0,pa.polyfill)(Ce);oe.default=Ce;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=oe,r=s(n);function s(i){return i&&i.__esModule?i:{default:i}}t.default=r.default,e.exports=t.default})(We,We.exports);var xa=We.exports;const ba=cn(xa),wa={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"white",borderRadius:"10px",padding:"20px",maxWidth:"90vw",maxHeight:"90vh",zIndex:1001,overflowY:"auto"},overlay:{backgroundColor:"rgba(0, 0, 0, 0.75)",zIndex:999}},_a=()=>{var Je,Qe,Ze,et,tt,nt,rt,at;const{slug:e}=un(),t=dn(),n=fn(),r=pn(),{selectedColor:s,selectedSizeId:i,quantity:u}=r.state||{};console.log("color",s),console.log("size",i),console.log("quantity",u);const[a,p]=D.useState("front"),[b,C]=D.useState(!1),[x,S]=D.useState("text"),[E,j]=D.useState(!1),[M,B]=D.useState(null),[Y,Se]=D.useState({}),{data:v,isLoading:se,error:Q}=mn(e),[Me,{isLoading:ie}]=hn(),[Fe,{isLoading:V}]=gn(),{data:Ge}=vn(),[Ee]=yn(),{redo:Z,cartItemId:ee}=r.state||{};D.useEffect(()=>{Z&&ee&&Ee(ee).unwrap().then(()=>ne.success("Previous customization removed. Start fresh!")).catch(()=>ne.error("Failed to remove old item"))},[Z,ee,Ee]);const[d,g]=D.useState({front:{texts:[{id:Date.now(),title:"",titleColor:"black",textSize:18,fontFamily:"Anton",xAxis:50,yAxis:50}],uploadedImage:null,imagePosition:"below",imageXAxis:50,imageYAxis:30,imageSize:50,containerWidth:240,containerHeight:240,containerXAxis:50,containerYAxis:50},back:{texts:[{id:Date.now()+1,title:"",titleColor:"black",textSize:18,fontFamily:"Anton",xAxis:50,yAxis:50}],uploadedImage:null,imagePosition:"below",imageXAxis:50,imageYAxis:30,imageSize:50,containerWidth:240,containerHeight:240,containerXAxis:50,containerYAxis:50}}),_=D.useRef(null),l=D.useRef(null),f=D.useRef(null),m=d[a],A={left:`${m.imageXAxis}%`,top:`${m.imageYAxis}%`,transform:"translate(-50%, -50%)",width:`${m.imageSize}%`,maxWidth:"200px",zIndex:m.imagePosition==="below"?1:10},O={position:"absolute",width:`${m.containerWidth}px`,height:`${m.containerHeight}px`,left:`${m.containerXAxis}%`,top:`${m.containerYAxis}%`,transform:"translate(-50%, -50%)",overflow:"hidden",pointerEvents:"none",zIndex:5},I=[{id:"glamour",name:"Glamour",value:"glamour"},{id:"anton",name:"Anton",value:"Anton"},{id:"abril",name:"Abril Fatface",value:"Abril Fatface"},{id:"leagueSparton",name:"League Spartan",value:"League Spartan"},{id:"yesevaOne",name:"Yeseva One",value:"Yeseva One"},{id:"chewy",name:"Chewy",value:"Chewy"},{id:"quicksand",name:"Quicksand",value:"Quicksand"},{id:"telegraph",name:"Telegraph",value:"telegraph"},{id:"futura",name:"Futura",value:"futura"},{id:"london",name:"London",value:"london"},{id:"lovelo",name:"Lovelo",value:"lovelo"},{id:"etna",name:"Etna",value:"etna"},{id:"copper",name:"Copper",value:"copper"}],q=[{id:"1",value:"#cc0000"},{id:"2",value:"#0025cc"},{id:"3",value:"#2e6417"},{id:"4",value:"#17320b"},{id:"5",value:"#004aad"},{id:"6",value:"#cc007e"},{id:"7",value:"#bc3fde"},{id:"8",value:"#ff751f"},{id:"9",value:"#cc4e00"},{id:"10",value:"#c28e4a"},{id:"11",value:"#744383"},{id:"12",value:"#fb475e"},{id:"13",value:"#ea71e7"},{id:"14",value:"#f0efec"},{id:"15",value:"#000000"}],le=()=>{const c={id:Date.now(),title:"",titleColor:"black",textSize:18,fontFamily:"Anton",xAxis:50,yAxis:50};g(w=>({...w,[a]:{...w[a],texts:[...w[a].texts,c]}}))},De=c=>{g(w=>({...w,[a]:{...w[a],texts:w[a].texts.filter(N=>N.id!==c)}}))},X=(c,w)=>{g(N=>({...N,[a]:{...N[a],texts:N[a].texts.map(h=>h.id===c?{...h,...w}:h)}}))},$=c=>{g(w=>({...w,[a]:{...w[a],...c}}))},Jt=c=>{const w=c.target.files[0];if(w){const N=new FileReader;N.onload=h=>$({uploadedImage:h.target.result}),N.readAsDataURL(w)}},Qt=()=>{$({uploadedImage:null}),_.current&&(_.current.value="")},Ke=async c=>{await document.fonts.ready;const w=a;if(p(c),await new Promise(h=>setTimeout(h,100)),!l.current||!f.current)throw p(w),new Error(`Preview not ready for ${c}`);let N=f.current.className;try{f.current.className=N.replace(/border-2 border-dotted border-white/,"");const h=l.current.querySelector("img");if(!h)throw new Error(`Base image not found for ${c}`);(h.complete===!1||h.naturalWidth===0)&&await new Promise((G,_e)=>{h.onload=G,h.onerror=()=>_e(new Error(`Failed to load ${c} image`)),h.complete&&h.naturalWidth!==0&&G()});const ce=await Et(l.current,{cacheBust:!0,pixelRatio:2,backgroundColor:"#ffffff",canvasWidth:700,canvasHeight:600,style:{width:"700px",height:"600px"}});return f.current.className=N,p(w),ce}catch(h){throw f.current.className=N,p(w),B(`Failed to generate ${c} image: ${h.message}`),h}},Zt=async()=>{var c,w,N,h,ce,G,_e,ot,st,it,lt,ct,ut,dt,ft,pt;if(!(E||ie||V)){j(!0);try{await document.fonts.ready;const k=d.front.texts.some(P=>P.title.trim())||d.front.uploadedImage,te=d.back.texts.some(P=>P.title.trim())||d.back.uploadedImage;if(!k&&!te){ne.error("Please customize at least one side!");return}if(!((w=(c=v==null?void 0:v.product)==null?void 0:c.customization)!=null&&w.front_image)&&k)throw new Error("Front base image is missing.");if(!((h=(N=v==null?void 0:v.product)==null?void 0:N.customization)!=null&&h.back_image)&&te)throw new Error("Back base image is missing.");let mt="",ht="";k&&(mt=await Ke("front")),te&&(ht=await Ke("back"));const rn=k&&te?"both":k?"front":"back",an={product_id:(ce=v==null?void 0:v.product)==null?void 0:ce.id,side:rn,front_price:k?((_e=(G=v==null?void 0:v.product)==null?void 0:G.customization)==null?void 0:_e.front_price)||4:0,back_price:te?(st=(ot=v==null?void 0:v.product)==null?void 0:ot.customization)==null?void 0:st.back_price:0,both_price:k&&te?((lt=(it=v==null?void 0:v.product)==null?void 0:it.customization)==null?void 0:lt.both_price)||8:0,front_image:mt,back_image:ht,text_front:JSON.stringify(d.front.texts.map(P=>({title:P.title,x_position:`${P.xAxis}%`,y_position:`${P.yAxis}%`,size:`${P.textSize}px`,color:P.titleColor,font_family:P.fontFamily}))),text_back:JSON.stringify(d.back.texts.map(P=>({title:P.title,x_position:`${P.xAxis}%`,y_position:`${P.yAxis}%`,size:`${P.textSize}px`,color:P.titleColor,font_family:P.fontFamily}))),container_front:JSON.stringify({width:d.front.containerWidth,height:d.front.containerHeight,x_position:`${d.front.containerXAxis}%`,y_position:`${d.front.containerYAxis}%`}),container_back:JSON.stringify({width:d.front.containerWidth,height:d.front.containerHeight,x_position:`${d.back.containerXAxis}%`,y_position:`${d.back.containerYAxis}%`}),image_front:d.front.uploadedImage?JSON.stringify({position:"below",x_position:`${d.front.imageXAxis}%`,y_position:`${d.front.imageYAxis}%`,size:`${d.front.imageSize}%`}):"",image_back:d.back.uploadedImage?JSON.stringify({position:"below",x_position:`${d.back.imageXAxis}%`,y_position:`${d.back.imageYAxis}%`,size:`${d.back.imageSize}%`}):"",_prevent_duplicate:Date.now()},ue=await Me(an).unwrap(),gt=((ct=ue==null?void 0:ue.data)==null?void 0:ct.customization_id)||(ue==null?void 0:ue.customization_id);if(!gt)throw new Error("Customization ID not returned");const on=k&&te?((dt=(ut=v==null?void 0:v.product)==null?void 0:ut.customization)==null?void 0:dt.both_price)||8:4;await Fe({product_id:(ft=v==null?void 0:v.product)==null?void 0:ft.id,qty:u,size:i||null,color:(s==null?void 0:s.id)||null,customization_id:gt,price:on}).unwrap(),n(bn.util.invalidateTags(["Cart"])),ne.success("Successfully added to cart!"),t("/cart")}catch(k){ne.error(`Failed: ${((pt=k==null?void 0:k.data)==null?void 0:pt.message)||(k==null?void 0:k.message)||"Unknown error"}`)}finally{j(!1)}}},en=async()=>{var w;if(!l.current)return;await document.fonts.ready;let c=((w=f.current)==null?void 0:w.className)||"";try{f.current&&(f.current.className=c.replace(/border-2 border-dotted border-white/,""));const N=await Et(l.current,{cacheBust:!0,pixelRatio:2});f.current&&(f.current.className=c);const h=document.createElement("a");h.download=`custom-${a}.png`,h.href=N,h.click()}catch{f.current&&(f.current.className=c),ne.error("Download failed")}},tn=c=>{p(c),B(null)},nn=async()=>{var c,w;if(await document.fonts.ready,!((w=(c=v==null?void 0:v.product)==null?void 0:c.customization)!=null&&w[a+"_image"])){ne.error(`No ${a} image available.`);return}C(!0)},$e=()=>C(!1);return se?o.jsx("h2",{className:"text-center text-white",children:"Loading..."}):Q?o.jsxs("h2",{className:"text-center text-red-500",children:["Error: ",Q.message]}):!((Qe=(Je=v==null?void 0:v.product)==null?void 0:Je.customization)!=null&&Qe.front_image)&&!((et=(Ze=v==null?void 0:v.product)==null?void 0:Ze.customization)!=null&&et.back_image)?o.jsx("h2",{className:"text-center text-yellow-500",children:"No customization available."}):se?o.jsx("div",{className:"min-h-screen bg-dark1 py-8 px-1 lg:px-4",children:o.jsx("div",{className:"w-full 2xl:max-w-4/5 mx-auto bg-dark2 rounded-xl overflow-hidden animate-pulse",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 p-4 lg:p-6",children:[o.jsx("div",{className:"md:hidden",children:o.jsxs("div",{className:"bg-dark1/50 p-6 rounded-xl",children:[o.jsx("div",{className:"h-8 bg-gray-700 rounded w-48 mx-auto mb-6"}),o.jsx("div",{className:"bg-gray-800 rounded-lg h-96 w-full mx-auto"})]})}),o.jsxs("div",{className:"bg-dark1 p-6 rounded-lg space-y-6",children:[o.jsx("div",{className:"flex gap-2 rounded-xl overflow-hidden",children:[...Array(3)].map((c,w)=>o.jsx("div",{className:"flex-1 h-12 bg-gray-700 rounded-lg"},w))}),o.jsxs("div",{className:"space-y-4",children:[[...Array(2)].map((c,w)=>o.jsxs("div",{className:"bg-gray-800/60 border border-gray-700 rounded-xl p-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsx("div",{className:"h-6 bg-gray-700 rounded w-32"}),o.jsx("div",{className:"h-6 bg-gray-700 rounded w-20"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"h-12 bg-gray-700 rounded"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx("div",{className:"h-10 bg-gray-700 rounded"}),o.jsx("div",{className:"h-10 bg-gray-700 rounded"})]}),o.jsx("div",{className:"h-10 bg-gray-700 rounded"}),o.jsx("div",{className:"flex gap-3",children:[...Array(5)].map((N,h)=>o.jsx("div",{className:"w-12 h-12 bg-gray-700 rounded-full"},h))})]})]},w)),o.jsx("div",{className:"h-12 bg-gray-700 rounded-xl"})]}),o.jsx("div",{className:"h-14 bg-gray-700 rounded-2xl"})]}),o.jsxs("div",{className:"hidden md:block sticky top-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("div",{className:"flex gap-2",children:[...Array(2)].map((c,w)=>o.jsx("div",{className:"h-10 w-24 bg-gray-700 rounded-lg"},w))}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("div",{className:"w-12 h-12 bg-gray-700 rounded-xl"}),o.jsx("div",{className:"w-12 h-12 bg-gray-700 rounded-xl"})]})]}),o.jsx("div",{className:"bg-gray-800 rounded-lg h-96 w-full mx-auto"})]})]})})}):o.jsxs("div",{className:"min-h-screen bg-dark1 py-8 px-1 lg:px-4",children:[o.jsx("div",{className:"w-full 2xl:max-w-4/5 mx-auto bg-dark2 rounded-xl overflow-hidden",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 p-4 lg:p-6 min-h-screen md:items-start",children:[o.jsxs("div",{className:"order-2 md:order-1 bg-dark1 p-4 rounded-lg shadow-md md:max-h-screen md:overflow-y-auto",children:[o.jsx("div",{className:"flex mb-8   rounded-xl   overflow-hidden border border-gray-700",children:["text","image","container"].map(c=>o.jsx("button",{onClick:()=>S(c),className:`flex-1 py-3 px-6 text-sm font-semibold rounded-lg transition-all duration-300 ${x===c?"bg-cream text-dark1 shadow-lg shadow-purple-500/30":"text-gray-400 hover:text-white hover:bg-gray-700/70"}`,children:c.charAt(0).toUpperCase()+c.slice(1)},c))}),x==="text"&&o.jsxs("div",{className:"space-y-4",children:[m.texts.map((c,w)=>{const N=Y[c.id]??w===0;return o.jsxs("div",{className:"border border-gray-600 rounded-xl overflow-hidden bg-gray-800/60 shadow-lg",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 cursor-pointer hover:bg-gray-700/80 transition-all duration-200",onClick:()=>Se(h=>({...h,[c.id]:!h[c.id]})),children:[o.jsxs("h4",{className:"text-md font-bold text-white flex items-center gap-3",children:[o.jsxs("span",{className:"text-cream",children:["Text ",w+1]}),c.title&&o.jsxs("span",{className:"text-sm font-normal text-gray truncate max-w-xs",children:['"',c.title,'"']})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[m.texts.length>1&&o.jsx("button",{onClick:h=>{h.stopPropagation(),De(c.id),Se(ce=>{const G={...ce};return delete G[c.id],G})},className:"text-red-400 hover:text-red-300 text-sm font-medium",children:"Remove"}),o.jsx("svg",{className:`w-6 h-6 text-gray-400 transition-transform duration-300 ${N?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),N&&o.jsxs("div",{className:"p-6 border-t border-gray-700 space-y-6 bg-gray-800/40",children:[o.jsx("input",{type:"text",value:c.title,onChange:h=>X(c.id,{title:h.target.value}),className:"w-full px-4 py-3 bg-gray-900 border border-gray-600 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-purple-500 transition",placeholder:"Enter your text here..."}),o.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm text-gray-300 mb-2",children:["X Position:"," ",c.xAxis,"%"]}),o.jsx("input",{type:"range",min:"0",max:"100",value:c.xAxis,onChange:h=>X(c.id,{xAxis:+h.target.value}),className:"w-full h-2 bg-gray-700 rounded-lg cursor-pointer accent-purple-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm text-gray-300 mb-2",children:["Y Position:"," ",c.yAxis,"%"]}),o.jsx("input",{type:"range",min:"0",max:"100",value:c.yAxis,onChange:h=>X(c.id,{yAxis:+h.target.value}),className:"w-full h-2 bg-gray-700 rounded-lg cursor-pointer accent-purple-500"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm text-gray-300 mb-2",children:["Text Size:"," ",c.textSize,"px"]}),o.jsx("input",{type:"range",min:"12",max:"72",value:c.textSize,onChange:h=>X(c.id,{textSize:+h.target.value}),className:"w-full h-2 bg-gray-700 rounded-lg cursor-pointer accent-purple-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-white mb-3",children:"Text Color"}),o.jsx("div",{className:"flex gap-3 flex-wrap",children:q.map(h=>o.jsx("button",{onClick:()=>X(c.id,{titleColor:h.value}),className:`w-12 h-12 rounded-full border-4 transition-all ${c.titleColor===h.value?"border-white shadow-lg scale-110":"border-gray-600 hover:border-gray-400"}`,style:{backgroundColor:h.value}},h.id))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Font Style"}),o.jsx("select",{value:c.fontFamily,onChange:h=>X(c.id,{fontFamily:h.target.value}),className:"w-full px-4 py-3 bg-gray-900 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-purple-500",children:I.map(h=>o.jsx("option",{value:h.value,children:h.name},h.id))})]})]})]},c.id)}),o.jsx("button",{onClick:le,className:"w-full py-3 mt-2 bg-linear-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 text-white font-bold text-md rounded-xl shadow-2xl  ",children:"+ Add New Text"})]}),x==="image"&&o.jsx("div",{children:o.jsxs("div",{className:"mb-3 rounded-lg",children:[o.jsx("h3",{className:"text-sm font-semibold text-cream mb-1",children:"Upload Image/Sticker"}),o.jsx("div",{className:"mb-1",children:o.jsx("input",{type:"file",ref:_,onChange:Jt,accept:"image/*",className:"w-full px-2 py-1 text-xs border border-gray-300 rounded-lg text-cream cursor-pointer focus:outline-none"})}),m.uploadedImage&&o.jsxs("div",{className:"space-y-4 mt-4 p-3 bg-dark1 rounded-lg",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-xs font-medium text-cream mb-0",children:["Image X-Position:"," ",m.imageXAxis,"%"]}),o.jsx("input",{type:"range",min:"0",max:"100",value:m.imageXAxis,onChange:c=>$({imageXAxis:parseInt(c.target.value)}),className:"w-full h-2 bg-gray-300 rounded-lg appearance-none cursor-pointer"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-xs font-medium text-cream mb-0",children:["Image Y-Position:"," ",m.imageYAxis,"%"]}),o.jsx("input",{type:"range",min:"0",max:"100",value:m.imageYAxis,onChange:c=>$({imageYAxis:parseInt(c.target.value)}),className:"w-full h-2 bg-gray-300 rounded-lg appearance-none cursor-pointer"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-xs font-medium text-cream mb-0",children:["Image Size:"," ",m.imageSize,"%"]}),o.jsx("input",{type:"range",min:"10",max:"100",value:m.imageSize,onChange:c=>$({imageSize:parseInt(c.target.value)}),className:"w-full h-2 bg-gray-300 rounded-lg appearance-none cursor-pointer"})]})]}),o.jsx("button",{onClick:Qt,className:"w-full bg-linear-to-r from-red-500 to-rose-600 hover:from-red-600 hover:to-rose-700 text-white font-bold py-3 rounded-lg shadow-md transition-all duration-300",children:"Remove Image"})]})]})}),x==="container"&&o.jsx("div",{className:"space-y-8",children:o.jsxs("div",{className:"bg-gray-800/60 border border-gray-700 rounded-xl p-6",children:[o.jsx("h3",{className:"text-lg font-bold text-cream mb-6 text-center",children:"Design Area Size & Position"}),o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsxs("label",{className:"text-sm font-medium text-gray-300",children:["Width:"," ",o.jsxs("span",{className:"text-cream font-bold",children:[m.containerWidth,"px"]})]}),o.jsx("span",{className:"text-xs text-gray-500",children:"140px - 400px"})]}),o.jsx("input",{type:"range",min:"140",max:"400",step:"10",value:m.containerWidth,onChange:c=>$({containerWidth:+c.target.value}),className:"w-full h-3 bg-gray-700 rounded-lg appearance-none cursor-pointer slider-accent",style:{background:`linear-gradient(to right, #d946ef ${(m.containerWidth-140)/260*100}%, #374151 ${(m.containerWidth-140)/260*100}%)`}})]}),o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsxs("label",{className:"text-sm font-medium text-gray-300",children:["Height:"," ",o.jsxs("span",{className:"text-cream font-bold",children:[m.containerHeight,"px"]})]}),o.jsx("span",{className:"text-xs text-gray-500",children:"140px - 400px"})]}),o.jsx("input",{type:"range",min:"140",max:"400",step:"10",value:m.containerHeight,onChange:c=>$({containerHeight:+c.target.value}),className:"w-full h-3 bg-gray-700 rounded-lg appearance-none cursor-pointer slider-accent",style:{background:`linear-gradient(to right, #d946ef ${(m.containerHeight-140)/260*100}%, #374151 ${(m.containerHeight-140)/260*100}%)`}})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-6 mt-8",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm text-gray-300 mb-2",children:["X Position:"," ",m.containerXAxis,"%"]}),o.jsx("input",{type:"range",min:"0",max:"100",value:m.containerXAxis,onChange:c=>$({containerXAxis:+c.target.value}),className:"w-full h-2 bg-gray-700 rounded-lg cursor-pointer accent-purple-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm text-gray-300 mb-2",children:["Y Position:"," ",m.containerYAxis,"%"]}),o.jsx("input",{type:"range",min:"0",max:"100",value:m.containerYAxis,onChange:c=>$({containerYAxis:+c.target.value}),className:"w-full h-2 bg-gray-700 rounded-lg cursor-pointer accent-purple-500"})]})]}),o.jsx("button",{onClick:()=>$({containerWidth:240,containerHeight:240,containerXAxis:50,containerYAxis:50}),className:"w-full mt-6 py-3 bg-gray-700 hover:bg-gray-600 text-white font-medium rounded-lg transition",children:"Reset to Default (240240)"})]})}),o.jsx("button",{onClick:Zt,disabled:E||ie||V,className:`w-full py-3 mt-3 rounded-2xl font-bold text-lg text-white shadow-2xl transform transition-all duration-500 ${E||ie||V?"bg-gray-700 cursor-not-allowed opacity-70":"bg-linear-to-r from-pink-600 via-purple-600 to-indigo-600 hover:from-pink-700 hover:via-purple-700 hover:to-indigo-700 shadow-pink-500/50 active:scale-98"}`,children:E||ie||V?o.jsxs("span",{className:"flex items-center justify-center gap-3",children:[o.jsxs("svg",{className:"animate-spin h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Customize & Add to Cart"})]}),o.jsxs("div",{className:" flex order-1 md:order-2 flex-col items-start  justify-start sticky top-1 z-10",children:[o.jsx("div",{className:" z-20   p-4",children:o.jsxs("div",{className:"flex justify-between items-center gap-4",children:[o.jsx("div",{className:"flex   rounded-xl p-1 border border-white/20",children:["front","back"].map(c=>o.jsx("button",{onClick:()=>tn(c),className:`px-5 py-1 rounded-lg font-bold text-sm transition-all duration-300 cursor-pointer ${a===c?"bg-linear-to-r from-purple-600 to-pink-600 text-white shadow-lg shadow-purple-500/50":"text-gray-300 hover:text-white hover:bg-white/10"}`,children:c.charAt(0).toUpperCase()+c.slice(1)},c))}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:nn,className:"py-1 px-5 bg-white/10 cursor-pointer hover:bg-white/20 backdrop-blur-md rounded-xl transition-all hover:scale-110",title:"Full Preview",children:o.jsx(xn,{className:"w-6 h-6 text-white","cursor-pointer":!0})}),o.jsx("button",{onClick:en,className:"py-1 px-5 bg-white/10 hover:bg-white/20 backdrop-blur-md rounded-xl transition-all hover:scale-110",title:"Download PNG",children:o.jsx(wn,{className:"w-6 h-6 text-white"})})]})]})}),M?o.jsx("p",{className:"text-red-500",children:M}):(nt=(tt=v==null?void 0:v.product)==null?void 0:tt.customization)!=null&&nt[a+"_image"]?o.jsxs("figure",{ref:l,className:"relative w-[700px] max-w-full",children:[o.jsx("img",{src:`/${v.product.customization[a+"_image"]}`,alt:`${a} view`,className:"w-full h-auto object-contain rounded-lg shadow-2xl",crossOrigin:"anonymous"}),o.jsxs("div",{ref:f,className:"absolute inset-0 flex items-center justify-center border-2 border-dotted border-white/50 rounded-xl overflow-hidden pointer-events-none",style:O,children:[m.uploadedImage&&o.jsx("img",{src:m.uploadedImage,alt:"Sticker",className:"absolute object-contain pointer-events-none",style:A}),m.texts.map(c=>c.title&&o.jsx("p",{className:"absolute font-bold text-center pointer-events-none select-none ",style:{fontSize:`${c.textSize}px`,color:c.titleColor,fontFamily:c.fontFamily,left:`${c.xAxis}%`,top:`${c.yAxis}%`,transform:"translate(-50%, -50%)",zIndex:m.imagePosition==="below"?10:1,whiteSpace:"pre-wrap",maxWidth:"90%"},children:c.title},c.id))]})]}):o.jsxs("p",{className:"text-cream",children:["No ",a," image available."]})]})]})}),o.jsx(ba,{isOpen:b,onRequestClose:$e,style:wa,contentLabel:"Preview Modal",ariaHideApp:!1,children:o.jsxs("div",{className:"flex flex-col items-center bg-white",children:[o.jsxs("div",{className:"flex justify-between items-center w-full mb-4",children:[o.jsxs("h2",{className:"text-xl font-bold text-dark1",children:[a.charAt(0).toUpperCase()+a.slice(1)," ","Design Preview"]}),o.jsx("button",{onClick:$e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:""})]}),o.jsx("div",{className:"flex justify-center w-full",children:M?o.jsx("p",{className:"text-red-500",children:M}):(at=(rt=v==null?void 0:v.product)==null?void 0:rt.customization)!=null&&at[a+"_image"]?o.jsxs("figure",{className:"relative w-full max-w-md h-auto",children:[o.jsx("div",{className:"relative w-full aspect-7/6",children:o.jsx("img",{src:`/${v.product.customization[a+"_image"]}`,alt:`${a} view`,className:"w-full h-full object-contain"})}),o.jsxs("div",{className:"absolute inset-0 flex items-center justify-center rounded-xl overflow-hidden",style:O,children:[m.uploadedImage&&o.jsx("img",{src:m.uploadedImage,alt:"Uploaded sticker",className:"absolute object-contain",style:A,crossOrigin:"anonymous"}),m.texts.map(c=>c.title&&o.jsx("p",{className:"absolute wrap-word font-bold text-center w-full ",style:{fontSize:`${c.textSize}px`,color:c.titleColor,fontFamily:c.fontFamily,left:`${c.xAxis}%`,top:`${c.yAxis}%`,transform:"translate(-50%, -50%)",zIndex:m.imagePosition==="below"?10:1},children:c.title},c.id))]})]}):o.jsxs("p",{children:["No ",a," image available for preview."]})}),o.jsx("button",{onClick:$e,className:"mt-4 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-lg transition duration-300",children:"Close Preview"})]})})]})};export{_a as default};
