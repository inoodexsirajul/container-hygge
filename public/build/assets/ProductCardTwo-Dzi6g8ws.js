import{r as f,s as v,t as w,j as s,L as r,y as x}from"./app-BTVdD3YE.js";import{G as n}from"./index-C-h0CH6P.js";const $=({product:e})=>{var o,m;const[c,N]=f.useState(1),[h,i]=f.useState(!1),[b,{isLoading:l}]=v(),{refetch:j}=w();localStorage.getItem("authToken");const a=!e.qty||e.qty<=0,y=((o=e==null?void 0:e.colors)==null?void 0:o.length)>0||((m=e==null?void 0:e.sizes)==null?void 0:m.length)>0,g=async()=>{var d;if(a){x.error("This product is out of stock!");return}try{const t={product_id:e.id,qty:c};await b(t).unwrap(),j(),x.success("Product added to cart!")}catch(t){x.error(((d=t==null?void 0:t.data)==null?void 0:d.message)||"Failed to add to cart")}};return s.jsxs("div",{className:"w-full  mx-auto transition-all duration-500 overflow-hidden hover:-translate-y-1 relative",children:[a&&s.jsx("div",{className:"absolute top-3 left-3 z-10 bg-red text-cream text-xs font-mont font-semibold px-3 py-1 rounded-full shadow-lg",children:"Out of Stock"}),s.jsxs("div",{className:`relative overflow-hidden rounded-xl ${a?"opacity-70":""}`,onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:[s.jsx("img",{src:`/${e.thumb_image}`,alt:e.title,loading:"lazy",className:"w-full object-cover transition-transform duration-500 hover:scale-105 h-full rounded-xl"}),h&&s.jsx("div",{className:"absolute inset-0 bg-dark2/70 flex items-center justify-center",children:s.jsxs("div",{className:"flex flex-col space-y-3",children:[a?s.jsxs("button",{disabled:!0,className:"w-full flex font-mont justify-between items-center text-[12px] md:text-[18px] border border-red bg-red/80 text-cream rounded-[10px] mb-4 px-4 py-2 md:px-[30px] md:py-[15px] cursor-not-allowed opacity-80",children:["Out of Stock",s.jsx("span",{children:s.jsx(n,{})})]}):y?s.jsxs(r,{to:`/product-details/${e==null?void 0:e.slug}`,className:"w-full flex justify-between font-mont items-center text-[12px] md:text-[14px] bg-red border border-transparent hover:border-cream rounded-[10px] text-cream mb-4 px-4 py-2 md:px-2.5 md:py-[7px]",children:["Select Option",s.jsx("span",{children:s.jsx(n,{})})]}):s.jsxs("button",{onClick:g,disabled:l,className:`w-full flex justify-between items-center text-[10px] md:text-[14px] border border-transparent hover:border-cream rounded-[10px] text-cream mb-4 px-4 py-2 md:px-5 md:py-2.5 cursor-pointer ${l?"bg-gray-500":"bg-red"}`,children:[l?"Adding...":"Add to cart",s.jsx("span",{children:s.jsx(n,{})})]}),s.jsxs(r,{to:`/product-details/${e==null?void 0:e.slug}`,className:"w-full flex justify-between font-mont items-center text-[12px] md:text-[14px] bg-dark2 border border-transparent hover:border-cream rounded-[10px] text-cream mb-4 px-4 py-2 md:px-5 md:py-2.5",children:["Details",s.jsx("span",{children:s.jsx(n,{})})]})]})})]}),s.jsxs("div",{className:"px-2 mt-2",children:[s.jsx("h4",{className:"text-cream text-[12px] xl:text-[14px] font-normal md:font-semibold font-mont mb-2.5",children:s.jsx(r,{to:`/product-details/${e==null?void 0:e.slug}`,className:"font-mont",children:e==null?void 0:e.name})}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("p",{className:"text-[12px] xl:text-[18px] text-cream font-mont",children:["$",e!=null&&e.offer_price?e==null?void 0:e.offer_price:e==null?void 0:e.price]}),(e==null?void 0:e.offer_price)&&s.jsxs("p",{className:"text-red line-through decoration-cream text-[12px] xl:text-[18px] font-mont",children:["$",e==null?void 0:e.price]})]})]})]})};export{$ as P};
